(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1057:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u})),n.d(t,"LineItem",(function(){return d})),n.d(t,"LineItemSummary",(function(){return E}));var a=n(0),l=n(975),r=n(1),o=n(980),s=n(12),c=n(987),i=n(14),m=function(e,t,n,a){return new(n||(n=Promise))((function(l,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))};function u(){const[e,t]=a.useState(!0),[n,u]=a.useState(""),[h,p]=a.useState(""),[b,g]=a.useState(""),[y,f]=a.useState(""),[S,w]=a.useState(""),[T,x]=a.useState(""),[B,D]=a.useState(""),[v,j]=a.useState(""),[G,k]=a.useState(""),[O,A]=a.useState({}),[I,C]=a.useState(),[L,N]=a.useState(""),[F,W]=a.useState(0);a.useEffect(()=>{const e={line104:y,line107:S,line110:T,line111:B,line205:v,line405:G};if(function(e){const t=Object(s.f)(Object.keys(e),"CAD",e);return A(t),0==Object.keys(t).length}(e)&&h&&b){(function(e,t,n){return m(this,void 0,void 0,(function*(){const a=yield Object(r.D)(e,t,!0,["CA:"]),l={startDate:e,endDate:t,sales:{items:[],taxTotals:[],totals:[]},purchases:{items:[],taxTotals:[],totals:[]},lines:{},refund:!1,exchangeRates:Object(r.u)()};return a.forEach(e=>{Object(r.r)(e,"CAD"),e.drcr==r.k.Credit?l.sales.items.push(e):l.purchases.items.push(e)}),["sales","purchases"].forEach(e=>{const t=l[e];t.items.length>0?(t.taxTotals=r.k.getSums(t.items),t.totals=r.k.getSums(t.items.map(e=>Object.assign(Object.assign({},e),{amount:e.parentAmount})))):(t.taxTotals=[{amount:0,currency:"CAD"}],t.totals=[{amount:0,currency:"CAD"}])}),l.lines[101]=l.sales.totals[0].amount,l.lines[103]=l.sales.taxTotals[0].amount,l.lines[104]=n.line104,l.lines[105]=l.lines[103]+l.lines[104],l.lines[106]=l.purchases.taxTotals[0].amount,l.lines[107]=n.line107,l.lines[108]=l.lines[106]+l.lines[107],l.lines[109]=l.lines[105]-l.lines[108],l.lines[110]=n.line110,l.lines[111]=n.line111,l.lines[112]=l.lines[110]+l.lines[111],l.lines["113a"]=l.lines[109]-l.lines[112],l.lines[205]=n.line205,l.lines[405]=n.line405,l.lines["113b"]=l.lines[205]+l.lines[405],l.lines["113c"]=l.lines["113a"]+l.lines["113b"],l.lines["113c"]>=0?l.lines[115]=l.lines["113c"]:(l.lines[114]=-l.lines["113c"],l.refund=!0),l}))})(h,b,e).then(e=>{C(e),N(""),W(Date.now())}).catch(e=>{N(e.toString())})}},[h,b,...Object(s.b)([y,S,T,B,v,G])]);const P=a.useMemo(()=>I?function(e,t){return a.createElement(l.b,null,a.createElement(l.d,{size:"A4",style:[l.f.page,{fontSize:t?9:8}]},a.createElement(l.p,{fixed:!0},a.createElement(o.d,{startDate:e.startDate,endDate:e.endDate,title:"GST/HST Return Working Copy"+(t?"":": Detail")}),!t&&a.createElement(l.o,{key:"header",style:{marginBottom:6}},a.createElement(l.m,{width:14,innerStyle:{borderBottomWidth:1}},"Item"),a.createElement(l.m,{width:10,innerStyle:{borderBottomWidth:1}},"Date"),a.createElement(l.m,{width:14,innerStyle:{borderBottomWidth:1}},"Name"),a.createElement(l.m,{width:22,innerStyle:{borderBottomWidth:1}},"Description"),a.createElement(l.l,{width:8,innerStyle:{borderBottomWidth:1}},"Tax Code"),a.createElement(l.n,{width:7,innerStyle:{borderBottomWidth:1}},"Rate"),a.createElement(l.n,{width:10,innerStyle:{borderBottomWidth:1}},"Tax"),a.createElement(l.n,{width:15,innerStyle:{borderBottomWidth:1}},"Amount"))),t?a.createElement(a.Fragment,null,a.createElement(E,{label:"Line 101 | Sales and other revenue",amount:e.lines[101]}),a.createElement(E,{label:"Line 103 | GST and HST amounts you collected or is collectible",amount:e.lines[103]}),a.createElement(E,{label:"Line 104 | Adjustments to be added",amount:e.lines[104]}),a.createElement(E,{label:"Line 105 | Total GST/HST and adjustments (add lines 103 and 104)",amount:e.lines[105]}),a.createElement(E,{label:"Line 106 | GST/HST you paid or is payable",amount:e.lines[106]}),a.createElement(E,{label:"Line 107 | Adjustments to be deducted",amount:e.lines[107]}),a.createElement(E,{label:"Line 108 | Total ITCs and adjustments (add lines 106 and 107)",amount:e.lines[108]}),a.createElement(E,{label:"Line 109 | Net tax (subtract line 108 from line 105)",amount:e.lines[109]}),a.createElement(E,{label:"Line 110 | Instalment and other annual filer payments",amount:e.lines[110]}),a.createElement(E,{label:"Line 111 | GST and HST rebates",amount:e.lines[111]}),a.createElement(E,{label:"Line 112 | Total other credits (add lines 110 and 111)",amount:e.lines[112]}),a.createElement(E,{label:"Line 113 A | Balance (subtract line 112 from line 109)",amount:e.lines["113a"]}),a.createElement(E,{label:"Line 205 | GST/HST due on acquisition of taxable real property",amount:e.lines[205]}),a.createElement(E,{label:"Line 405 | Other GST/HST to be self-assessed",amount:e.lines[405]}),a.createElement(E,{label:"Line 113 B | Total other debits (add lines 205 and 405)",amount:e.lines["113b"]}),a.createElement(E,{label:"Line 113 C | Balance (add lines 113 A and 113 B)",amount:e.lines["113c"]}),e.refund?a.createElement(E,{label:"Line 114 | Refund claimed",amount:e.lines[114]}):a.createElement(E,{label:"Line 115 | Payment enclosed",amount:e.lines[115]})):a.createElement(a.Fragment,null,e.sales.items.length>0&&a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"Sales")),a.createElement(c.GroupItems,{group:e.sales}),a.createElement(c.GroupTotal,{group:e.sales})),a.createElement(d,{label:"Line 101 | Sales and other revenue",amount:e.lines[101]}),a.createElement(d,{label:"Line 103 | GST and HST amounts you collected or is collectible",amount:e.lines[103]}),a.createElement(d,{label:"Line 104 | Adjustments to be added",amount:e.lines[104]}),a.createElement(d,{label:"Line 105 | Total GST/HST and adjustments (add lines 103 and 104)",amount:e.lines[105]}),e.purchases.items.length>0&&a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"Purchases")),a.createElement(c.GroupItems,{group:e.purchases}),a.createElement(c.GroupTotal,{group:e.purchases})),a.createElement(d,{label:"Line 106 | GST/HST you paid or is payable",amount:e.lines[106]}),a.createElement(d,{label:"Line 107 | Adjustments to be deducted",amount:e.lines[107]}),a.createElement(d,{label:"Line 108 | Total ITCs and adjustments (add lines 106 and 107)",amount:e.lines[108]}),a.createElement(d,{label:"Line 109 | Net tax (subtract line 108 from line 105)",amount:e.lines[109]}),a.createElement(d,{label:"Line 110 | Instalment and other annual filer payments",amount:e.lines[110]}),a.createElement(d,{label:"Line 111 | GST and HST rebates",amount:e.lines[111]}),a.createElement(d,{label:"Line 112 | Total other credits (add lines 110 and 111)",amount:e.lines[112]}),a.createElement(d,{label:"Line 113 A | Balance (subtract line 112 from line 109)",amount:e.lines["113a"]}),a.createElement(d,{label:"Line 205 | GST/HST due on acquisition of taxable real property",amount:e.lines[205]}),a.createElement(d,{label:"Line 405 | Other GST/HST to be self-assessed",amount:e.lines[405]}),a.createElement(d,{label:"Line 113 B | Total other debits (add lines 205 and 405)",amount:e.lines["113b"]}),a.createElement(d,{label:"Line 113 C | Balance (add lines 113 A and 113 B)",amount:e.lines["113c"]}),e.refund?a.createElement(d,{label:"Line 114 | Refund claimed",amount:e.lines[114]}):a.createElement(d,{label:"Line 115 | Payment enclosed",amount:e.lines[115]})),a.createElement(o.c,{rates:e.exchangeRates})))}(I,e):null,[I&&F?F:0,e]);return a.createElement("div",null,a.createElement("h1",{className:"title"},"GST/HST Return Working Copy"),a.createElement("table",{className:"horizontal-table-form"},a.createElement("tbody",null,a.createElement("tr",{className:"row row-summary"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"summary"},"Summary:")),a.createElement("td",null,a.createElement("input",{type:"checkbox",name:"summary",checked:e,onChange:e=>{t(e.target.checked)}}))),a.createElement("tr",{className:"row row-date-preset"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"preset"},"Date:")),a.createElement("td",null,a.createElement("select",{name:"preset",value:n,onChange:function(e){const t=e.target.value;if(u(t),"custom"!=t){const e=Object(r.t)(t);p(e[0]),g(e[1])}}},!n&&a.createElement("option",{key:"",value:""}),Object(i.f)()),"custom"==n&&a.createElement(o.b,{onChange:function(e,t){p(e),g(t)},startDate:h,endDate:b}))),a.createElement("tr",{className:"row row-line104"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"line104"},"Line 104 | Adjustments to be added:")),a.createElement("td",null,a.createElement("input",{name:"line104",onChange:e=>{f(e.target.value)}})," CAD",O.line104&&a.createElement("div",{className:"error"},O.line104))),a.createElement("tr",{className:"row row-line107"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"line107"},"Line 107 | Adjustments to be deducted:")),a.createElement("td",null,a.createElement("input",{name:"line107",onChange:e=>{w(e.target.value)}})," CAD",O.line107&&a.createElement("div",{className:"error"},O.line107))),a.createElement("tr",{className:"row row-line110"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"line110"},"Line 110 | Instalment and other annual filer payments:")),a.createElement("td",null,a.createElement("input",{name:"line110",onChange:e=>{x(e.target.value)}})," CAD",O.line110&&a.createElement("div",{className:"error"},O.line110))),a.createElement("tr",{className:"row row-line111"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"line111"},"Line 111 | GST and HST rebates:")),a.createElement("td",null,a.createElement("input",{name:"line111",onChange:e=>{D(e.target.value)}})," CAD",O.line111&&a.createElement("div",{className:"error"},O.line111))),a.createElement("tr",{className:"row row-line205"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"line205"},"Line 205 | GST/HST due on acquisition of taxable real property:")),a.createElement("td",null,a.createElement("input",{name:"line205",onChange:e=>{j(e.target.value)}})," CAD",O.line205&&a.createElement("div",{className:"error"},O.line205))),a.createElement("tr",{className:"row row-line405"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"line405"},"Line 405 | Other GST/HST to be self-assessed:")),a.createElement("td",null,a.createElement("input",{name:"line405",onChange:e=>{k(e.target.value)}})," CAD",O.line405&&a.createElement("div",{className:"error"},O.line405))))),L&&a.createElement("div",{className:"error"},L),P&&a.createElement(l.c,{_key:F,filename:"GST-HST-return-working-copy.pdf"},P))}function d({label:e,amount:t,marginBottom:n=12}){return a.createElement(l.o,{key:e,style:{marginBottom:n}},a.createElement(l.m,{width:85},e),a.createElement(l.n,{width:15},Object(r.F)(t,"CAD")," CAD"))}function E({label:e,amount:t,marginBottom:n=12}){return a.createElement(l.o,{key:e,style:{marginBottom:n}},a.createElement(l.m,{width:65},e),a.createElement(l.n,{width:15},Object(r.F)(t,"CAD")," CAD"))}},1149:function(e,t){},1150:function(e,t){},1278:function(e,t){},1279:function(e,t){},1280:function(e,t){},1281:function(e,t){},1289:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var a=n(0),l=n(975),r=n(1),o=n(980),s=n(14),c=n(13);const i=r.k.Debit,m=r.k.Credit;function u({summary:e}){const[t,n]=a.useState(""),[u,b]=a.useState(""),[g,y]=a.useState(""),[f,S]=a.useState(""),[w,T]=a.useState(),[x,B]=a.useState(""),[D,v]=a.useState(0);a.useEffect(()=>{u&&g&&Object(r.o)(u,g,f).then(e=>{T(e),B(""),v(Date.now())}).catch(e=>{B(e.toString())})},[u,g,f]);const j=a.useMemo(()=>w?a.createElement(l.b,null,e?a.createElement(l.d,{size:"A4",style:[l.f.page,{fontSize:9}]},a.createElement(l.p,{fixed:!0},a.createElement(o.d,{endDate:w.endDate,title:"Balance Sheet"})),a.createElement(l.o,{key:"assets",style:{marginBottom:3}},a.createElement(l.l,{width:50},"ASSETS")),a.createElement(p,{label:"Current assets",subdivision:w.assets.current,drcr:i}),a.createElement(E,{totals:w.assets.current.totals,label:"Total current assets",width:50}),a.createElement(p,{label:"Non-current assets",subdivision:w.assets.nonCurrent,drcr:i}),a.createElement(E,{totals:w.assets.nonCurrent.totals,label:"Total non-current assets",width:50}),a.createElement(h,{totals:w.assets.totals,label:"TOTAL ASSETS",width:50}),a.createElement(l.o,{key:"liabilities",style:{marginBottom:3}},a.createElement(l.l,{width:50},"LIABILITIES")),a.createElement(p,{label:"Current liabilities",subdivision:w.liabilities.current,drcr:m}),a.createElement(E,{totals:w.liabilities.current.totals,label:"Total current liabilities",width:50}),a.createElement(p,{label:"Non-current liabilities",subdivision:w.liabilities.nonCurrent,drcr:m}),a.createElement(E,{totals:w.liabilities.nonCurrent.totals,label:"Total non-current liabilities",width:50}),a.createElement(h,{totals:w.liabilities.totals,label:"TOTAL LIABILITIES",width:50}),a.createElement(h,{totals:w.netAssets,label:"NET ASSETS",width:50}),a.createElement(l.o,{key:"label",style:{marginBottom:3}},a.createElement(l.l,{width:50},"EQUITY")),a.createElement(p,{label:!1,subdivision:w.equity.accounts,drcr:m}),a.createElement(h,{totals:w.equity.accounts.totals,label:"TOTAL EQUITY",width:50}),a.createElement(o.c,{rates:w.exchangeRates})):a.createElement(l.d,{size:"A4",style:[l.f.page,{fontSize:9}]},a.createElement(l.p,{fixed:!0},a.createElement(o.d,{startDate:w.startDate,endDate:w.endDate,title:"Balance Sheet: Log"}),a.createElement(l.o,{key:"header",style:{marginBottom:6}},a.createElement(l.m,{width:18,innerStyle:{borderBottomWidth:1}},"Item"),a.createElement(l.m,{width:11,innerStyle:{borderBottomWidth:1}},"Date"),a.createElement(l.m,{width:17,innerStyle:{borderBottomWidth:1}},"Name"),a.createElement(l.l,{width:20,innerStyle:{borderBottomWidth:1}},"Description"),a.createElement(l.n,{width:17,innerStyle:{borderBottomWidth:1}},"Amount"),a.createElement(l.n,{width:17,innerStyle:{borderBottomWidth:1}},"Balance"))),a.createElement(l.o,{key:"assets",style:{marginBottom:3}},a.createElement(l.l,{width:100},"ASSETS")),a.createElement(d,{label:"Current assets",subdivision:w.assets.current,drcr:i}),a.createElement(E,{totals:w.assets.current.totals,label:"Total current assets"}),a.createElement(d,{label:"Non-current assets",subdivision:w.assets.nonCurrent,drcr:i}),a.createElement(E,{totals:w.assets.nonCurrent.totals,label:"Total non-current assets"}),a.createElement(h,{totals:w.assets.totals,label:"TOTAL ASSETS"}),a.createElement(l.o,{key:"liabilities",style:{marginBottom:3}},a.createElement(l.l,{width:100},"LIABILITIES")),a.createElement(d,{label:"Current liabilities",subdivision:w.liabilities.current,drcr:m}),a.createElement(E,{totals:w.liabilities.current.totals,label:"Total current liabilities"}),a.createElement(d,{label:"Non-current liabilities",subdivision:w.liabilities.nonCurrent,drcr:m}),a.createElement(E,{totals:w.liabilities.nonCurrent.totals,label:"Total non-current liabilities"}),a.createElement(h,{totals:w.liabilities.totals,label:"TOTAL LIABILITIES"}),a.createElement(h,{totals:w.netAssets,label:"NET ASSETS"}),a.createElement(l.o,{key:"label",style:{marginBottom:3}},a.createElement(l.l,{width:100},"EQUITY")),a.createElement(d,{label:!1,subdivision:w.equity.accounts,drcr:m}),a.createElement(h,{totals:w.equity.accounts.totals,label:"TOTAL EQUITY"}),a.createElement(o.c,{rates:w.exchangeRates}))):null,[e,w&&D?D:0]);return a.createElement("div",null,a.createElement("h1",{className:"title"},"Balance Sheet",e?"":": Log"),a.createElement("table",{className:"horizontal-table-form"},a.createElement("tbody",null,a.createElement("tr",{className:"row row-date-preset"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"preset"},"Date:")),a.createElement("td",null,a.createElement("select",{name:"preset",value:t,onChange:function(e){const t=e.target.value;if(n(t),"custom"!=t){const e=Object(r.t)(t);b(e[0]),y(e[1])}}},!t&&a.createElement("option",{key:"",value:""}),Object(s.f)()),"custom"==t&&a.createElement(o.b,{onChange:function(e,t){b(e),y(t)},startDate:u,endDate:g}))),a.createElement("tr",{className:"row row-currency"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"currency"},"Currency:")),a.createElement("td",null,a.createElement("select",{name:"currency",value:f,onChange:function(e){S(e.target.value)}},a.createElement("option",{key:"",value:""},"All currencies"),Object(s.d)()),a.createElement(c.b,{text:"Convert all amounts to the selected currency"}))))),x&&a.createElement("div",{className:"error"},x),j&&a.createElement(l.c,{_key:D,filename:`balance-sheet${e?"":"-log"}.pdf`},j))}function d({label:e,subdivision:t,drcr:n}){return a.createElement(a.Fragment,null,t.groups.length>0&&e&&a.createElement(l.o,{key:e,style:{marginBottom:3}},a.createElement(l.l,{indent:2,width:98},e)),t.groups.map(e=>{const t=e.items.length>0;return a.createElement(a.Fragment,{key:"group-"+e.accountId},t&&e.openingBalance.map((t,n)=>a.createElement(l.o,{key:t.currency,style:n==e.openingBalance.length-1?{marginBottom:3}:{}},a.createElement(l.i,{width:79,indent:4},0==n?a.createElement(l.g,null,a.createElement(l.a,null,e.accountTitle)," (opening balance)"):""),a.createElement(l.j,{width:17},Object(r.F)(t.amount,t.currency)," ",t.currency))),e.items.map((t,o)=>{const s=n==t.drcr?t.amount:-t.amount;return a.createElement(l.o,{key:t.id},a.createElement(l.i,{width:14,indent:4},!!t.txnType&&r.k.TypeInfo[t.txnType].shortLabel," ",t.txnId),a.createElement(l.h,{width:11,innerStyle:{marginRight:6,textAlign:"right"}},!!t.txnDate&&Object(r.v)(t.txnDate)),a.createElement(l.i,{width:17,innerStyle:{maxLines:1}},t.actorTitle),a.createElement(l.h,{width:20,innerStyle:{maxLines:2}},t.txnDescription?t.description?`${t.txnDescription}: ${t.description}`:t.txnDescription:t.description),a.createElement(l.j,{width:17,innerStyle:o==e.items.length-1?{paddingBottom:3}:{}},Object(r.F)(s,t.currency)," ",t.currency),a.createElement(l.j,{width:17}," "))}),e.closingBalance.map((n,o)=>a.createElement(l.o,{key:n.currency,style:o==e.closingBalance.length-1?{marginBottom:6}:{}},a.createElement(l.i,{width:79,indent:4},0==o?a.createElement(l.g,null,a.createElement(l.a,null,e.accountTitle)," (",t?"closing balance":"no activity",")"):""),a.createElement(l.j,{width:17},Object(r.F)(n.amount,n.currency)," ",n.currency))))}))}function E({label:e,totals:t,width:n=100}){return a.createElement(l.p,{wrap:t.length>o.a,style:{marginBottom:6}},t.map((o,s)=>a.createElement(l.o,{key:o.currency},a.createElement(l.m,{indent:2,width:n-17,style:0==s?{paddingTop:3,borderTopWidth:1,borderBottomWidth:1,borderColor:"#fff"}:{},innerStyle:0==s?{paddingTop:3,borderTopWidth:1,borderBottomWidth:1,borderColor:"#fff",position:"absolute"}:{}},0==s?""+e:""),a.createElement(l.j,{width:15,style:{borderTopWidth:0==s?1:0,paddingTop:0==s?3:0,borderBottomWidth:s==t.length-1?1:0,paddingBottom:s==t.length-1?3:0}},Object(r.F)(o.amount,o.currency)," ",o.currency))))}function h({label:e,totals:t,width:n=100}){return a.createElement(l.p,{wrap:t.length>o.a,style:{marginBottom:12}},t.map((o,s)=>a.createElement(l.o,{key:o.currency},a.createElement(l.m,{width:n-15,style:0==s?{paddingTop:3,borderTopWidth:2,borderColor:"#fff"}:{},innerStyle:0==s?{paddingTop:3,borderTopWidth:2,borderColor:"#fff",position:"absolute"}:{}},0==s?""+e:""),a.createElement(l.j,{width:15,style:{borderTopWidth:0==s?2:0,paddingTop:0==s?3:0,borderBottomWidth:s==t.length-1?2:0,paddingBottom:s==t.length-1?3:0}},Object(r.F)(o.amount,o.currency)," ",o.currency))))}function p({label:e,subdivision:t,drcr:n}){return a.createElement(a.Fragment,null,t.groups.length>0&&e&&a.createElement(l.o,{key:e,style:{marginBottom:3}},a.createElement(l.l,{indent:2,width:48},e)),t.groups.map(e=>a.createElement(a.Fragment,{key:"group-"+e.accountId},e.closingBalance.map((t,n)=>a.createElement(l.o,{key:t.currency,style:n==e.closingBalance.length-1?{marginBottom:6}:{}},a.createElement(l.i,{width:29,indent:4},0==n?a.createElement(l.a,null,e.accountTitle):""),a.createElement(l.j,{width:17},Object(r.F)(t.amount,t.currency)," ",t.currency))))))}},1292:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var a=n(0),l=n(975),r=n(1),o=n(980),s=n(14),c=n(13);function i({summary:e}){const[t,n]=a.useState(""),[i,E]=a.useState(""),[h,p]=a.useState(""),[b,g]=a.useState(""),[y,f]=a.useState(),[S,w]=a.useState(""),[T,x]=a.useState(0);a.useEffect(()=>{i&&h&&Object(r.A)(i,h,b).then(e=>{f(e),w(""),x(Date.now())}).catch(e=>{w(e.toString())})},[i,h,b]);const B=a.useMemo(()=>y?a.createElement(l.b,null,e?a.createElement(l.d,{size:"A4",style:[l.f.page,{fontSize:9}]},a.createElement(l.p,{fixed:!0},a.createElement(o.d,{startDate:y.startDate,endDate:y.endDate,title:"Profit and Loss: Summary"})),y.hasOperations?a.createElement(d,{label:"Ordinary revenue / expense",netLabel:"Earnings before interest, tax, depreciation and amortisation (EBITDA)",division:y.operations}):a.createElement(a.Fragment,null,a.createElement(l.o,{key:"label",style:{marginBottom:3}},a.createElement(l.l,{width:60},"Ordinary revenue / expense")),a.createElement(l.o,{key:"none"},a.createElement(l.h,{indent:2,width:58},"No items"))),y.hasDepreciation&&a.createElement(d,{label:"Depreciation and amortisation",netLabel:"Net depreciation and amortisation",division:y.depreciation}),a.createElement(u,{key:"ebit",totals:y.ebit,width:60,label:"Earnings before interest and tax (EBIT)"}),y.hasInterestTax&&a.createElement(d,{label:"Interest and tax",netLabel:"Net interest and tax",division:y.interestTax}),a.createElement(u,{key:"netProfit",totals:y.netProfit,width:60,label:"Net profit"}),a.createElement(o.c,{rates:y.exchangeRates})):a.createElement(l.d,{size:"A4",style:[l.f.page,{fontSize:9}]},a.createElement(l.p,{fixed:!0},a.createElement(o.d,{startDate:y.startDate,endDate:y.endDate,title:"Profit and Loss: Detail"}),a.createElement(l.o,{key:"header",style:{marginBottom:6}},a.createElement(l.m,{width:18,innerStyle:{borderBottomWidth:1}},"Item"),a.createElement(l.m,{width:11,innerStyle:{borderBottomWidth:1}},"Date"),a.createElement(l.m,{width:20,innerStyle:{borderBottomWidth:1}},"Name"),a.createElement(l.l,{width:34,innerStyle:{borderBottomWidth:1}},"Description"),a.createElement(l.n,{width:17,innerStyle:{borderBottomWidth:1}},"Amount"))),y.hasOperations?a.createElement(m,{label:"Ordinary revenue / expense",netLabel:"Earnings before interest, tax, depreciation and amortisation (EBITDA)",division:y.operations}):a.createElement(a.Fragment,null,a.createElement(l.o,{key:"label",style:{marginBottom:3}},a.createElement(l.l,{width:100},"Ordinary revenue / expense")),a.createElement(l.o,{key:"none"},a.createElement(l.h,{indent:2,width:98},"No items"))),y.hasDepreciation&&a.createElement(m,{label:"Depreciation and amortisation",netLabel:"Net depreciation and amortisation",division:y.depreciation}),a.createElement(u,{key:"ebit",totals:y.ebit,label:"Earnings before interest and tax (EBIT)"}),y.hasInterestTax&&a.createElement(m,{label:"Interest and tax",netLabel:"Net interest and tax",division:y.interestTax}),a.createElement(u,{key:"netProfit",totals:y.netProfit,label:"Net profit"}),a.createElement(o.c,{rates:y.exchangeRates}))):null,[e,y&&T?T:0]);return a.createElement("div",null,a.createElement("h1",{className:"title"},"Profit and Loss: ",e?"Summary":"Detail"),a.createElement("table",{className:"horizontal-table-form"},a.createElement("tbody",null,a.createElement("tr",{className:"row row-date-preset"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"preset"},"Date:")),a.createElement("td",null,a.createElement("select",{name:"preset",value:t,onChange:function(e){const t=e.target.value;if(n(t),"custom"!=t){const e=Object(r.t)(t);E(e[0]),p(e[1])}}},!t&&a.createElement("option",{key:"",value:""}),Object(s.f)()),"custom"==t&&a.createElement(o.b,{onChange:function(e,t){E(e),p(t)},startDate:i,endDate:h}))),a.createElement("tr",{className:"row row-currency"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"currency"},"Currency:")),a.createElement("td",null,a.createElement("select",{name:"currency",value:b,onChange:function(e){g(e.target.value)}},a.createElement("option",{key:"",value:""},"All currencies"),Object(s.d)()),a.createElement(c.b,{text:"Convert all amounts to the selected currency"}))))),S&&a.createElement("div",{className:"error"},S),B&&a.createElement(l.c,{_key:T,filename:`profit-and-loss-${e?"summary":"detail"}.pdf`},B))}function m({label:e,netLabel:t,division:n}){return a.createElement(a.Fragment,null,a.createElement(l.o,{key:"label",style:{marginBottom:3}},a.createElement(l.l,{width:100},e)),n.revenues.groups.length>0&&a.createElement(l.o,{key:"revenue",style:{marginBottom:3}},a.createElement(l.l,{indent:2,width:98},"Revenue")),n.revenues.groups.map(e=>a.createElement(a.Fragment,{key:"group-"+e.accountId},a.createElement(l.o,{key:"group-title",style:{marginBottom:3}},a.createElement(l.l,{indent:4,width:96},e.accountTitle)),e.items.map((t,n)=>a.createElement(l.o,{key:t.id},a.createElement(l.i,{width:14,indent:4},r.k.TypeInfo[t.txnType].shortLabel," ",t.txnId),a.createElement(l.h,{width:11,innerStyle:{marginRight:6,textAlign:"right"}},Object(r.v)(t.txnDate)),a.createElement(l.i,{width:20,innerStyle:{maxLines:1}},t.actorTitle),a.createElement(l.h,{width:34,innerStyle:{maxLines:2}},t.txnDescription?t.description?`${t.txnDescription}: ${t.description}`:t.txnDescription:t.description),a.createElement(l.j,{width:17,innerStyle:n==e.items.length-1?{marginBottom:3,paddingBottom:3,borderBottomWidth:1}:{}},Object(r.G)(t.amount,t.currency)," ",t.currency))),e.totals.map((t,n)=>a.createElement(l.o,{key:t.currency,style:n==e.totals.length-1?{marginBottom:12}:{}},a.createElement(l.i,{width:79,indent:4},0==n?"Total "+e.accountTitle:""),a.createElement(l.j,{width:17},Object(r.G)(t.amount,t.currency)," ",t.currency))))),a.createElement(l.p,{wrap:n.revenues.totals.length>o.a},n.revenues.totals.map((e,t)=>a.createElement(l.o,{key:e.currency,style:t==n.revenues.totals.length-1?{marginBottom:12}:{}},a.createElement(l.m,{width:81,indent:2,innerStyle:0==t?{paddingTop:3,borderTopWidth:1,borderColor:"#fff"}:{}},0==t?"Total Revenue":""),a.createElement(l.n,{width:17,innerStyle:0==t?{paddingTop:3,borderTopWidth:1}:{}},Object(r.G)(e.amount,e.currency)," ",e.currency)))),n.expenses.groups.length>0&&a.createElement(l.o,{key:"expenses",style:{marginBottom:3}},a.createElement(l.l,{indent:2,width:98},"Expenses")),n.expenses.groups.map(e=>a.createElement(a.Fragment,{key:"group-"+e.accountId},a.createElement(l.o,{key:"group-title",style:{marginBottom:3}},a.createElement(l.l,{indent:4,width:96},e.accountTitle)),e.items.map((t,n)=>a.createElement(l.o,{key:t.id},a.createElement(l.i,{width:14,indent:4},r.k.TypeInfo[t.txnType].shortLabel," ",t.txnId),a.createElement(l.h,{width:11,innerStyle:{marginRight:6,textAlign:"right"}},Object(r.v)(t.txnDate)),a.createElement(l.i,{width:20,innerStyle:{maxLines:1}},t.actorTitle),a.createElement(l.h,{width:34,innerStyle:{maxLines:2}},t.txnDescription?t.description?`${t.txnDescription}: ${t.description}`:t.txnDescription:t.description),a.createElement(l.j,{width:17,innerStyle:n==e.items.length-1?{marginBottom:3,paddingBottom:3,borderBottomWidth:1}:{}},Object(r.G)(t.amount,t.currency)," ",t.currency))),e.totals.map((t,n)=>a.createElement(l.o,{key:t.currency,style:n==e.totals.length-1?{marginBottom:12}:{}},a.createElement(l.i,{width:79,indent:4},0==n?"Total "+e.accountTitle:""),a.createElement(l.j,{width:17},Object(r.G)(t.amount,t.currency)," ",t.currency))))),a.createElement(l.p,{wrap:n.expenses.totals.length>o.a},n.expenses.totals.map((e,t)=>a.createElement(l.o,{key:e.currency,style:t==n.expenses.totals.length-1?{marginBottom:12}:{}},a.createElement(l.m,{width:81,indent:2,innerStyle:0==t?{paddingTop:3,borderTopWidth:1,borderColor:"#fff"}:{}},0==t?"Total Expenses":""),a.createElement(l.n,{width:17,innerStyle:0==t?{paddingTop:3,borderTopWidth:1}:{}},Object(r.G)(e.amount,e.currency)," ",e.currency)))),a.createElement(u,{totals:n.netTotals,label:t}))}function u({label:e,totals:t,width:n=100}){return a.createElement(l.p,{wrap:t.length>o.a,style:{marginBottom:12}},t.map((o,s)=>a.createElement(l.o,{key:o.currency},a.createElement(l.m,{width:n-15,style:0==s?{paddingTop:3,borderTopWidth:2,borderColor:"#fff"}:{},innerStyle:0==s?{paddingTop:3,borderTopWidth:2,borderColor:"#fff",position:"absolute"}:{}},0==s?""+e:""),a.createElement(l.n,{width:15,style:{borderTopWidth:0==s?2:0,paddingTop:0==s?3:0,borderBottomWidth:s==t.length-1?2:0,paddingBottom:s==t.length-1?3:0}},Object(r.G)(o.amount,o.currency)," ",o.currency))))}function d({label:e,netLabel:t,division:n}){return a.createElement(a.Fragment,null,a.createElement(l.o,{key:"label",style:{marginBottom:3}},a.createElement(l.l,{width:60},e)),n.revenues.groups.length>0&&a.createElement(l.o,{key:"revenue",style:{marginBottom:3}},a.createElement(l.l,{indent:2,width:58},"Revenue")),n.revenues.groups.map(e=>a.createElement(a.Fragment,{key:"group-"+e.accountId},e.totals.map((t,n)=>a.createElement(l.o,{key:t.currency,style:n==e.totals.length-1?{marginBottom:3}:{}},a.createElement(l.i,{width:39,indent:4},0==n?e.accountTitle:""),a.createElement(l.j,{width:17},Object(r.G)(t.amount,t.currency)," ",t.currency))))),a.createElement(l.p,{wrap:n.revenues.totals.length>o.a},n.revenues.totals.map((e,t)=>a.createElement(l.o,{key:e.currency,style:t==n.revenues.totals.length-1?{marginBottom:12}:{}},a.createElement(l.m,{width:41,indent:2,innerStyle:0==t?{paddingTop:3,borderTopWidth:1,borderColor:"#fff"}:{}},0==t?"Total Revenue":""),a.createElement(l.n,{width:17,innerStyle:0==t?{paddingTop:3,borderTopWidth:1}:{}},Object(r.G)(e.amount,e.currency)," ",e.currency)))),n.expenses.groups.length>0&&a.createElement(l.o,{key:"expenses",style:{marginBottom:3}},a.createElement(l.l,{indent:2,width:58},"Expenses")),n.expenses.groups.map(e=>a.createElement(a.Fragment,{key:"group-"+e.accountId},e.totals.map((t,n)=>a.createElement(l.o,{key:t.currency,style:n==e.totals.length-1?{marginBottom:3}:{}},a.createElement(l.i,{width:39,indent:4},0==n?e.accountTitle:""),a.createElement(l.j,{width:17},Object(r.G)(t.amount,t.currency)," ",t.currency))))),a.createElement(l.p,{wrap:n.expenses.totals.length>o.a},n.expenses.totals.map((e,t)=>a.createElement(l.o,{key:e.currency,style:t==n.expenses.totals.length-1?{marginBottom:12}:{}},a.createElement(l.m,{width:41,indent:2,innerStyle:0==t?{paddingTop:3,borderTopWidth:1,borderColor:"#fff"}:{}},0==t?"Total Expenses":""),a.createElement(l.n,{width:17,innerStyle:0==t?{paddingTop:3,borderTopWidth:1}:{}},Object(r.G)(e.amount,e.currency)," ",e.currency)))),a.createElement(u,{totals:n.netTotals,label:t,width:60}))}},1293:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var a=n(0),l=n(8),r=n(975),o=n(1),s=n(12),c=function(e,t,n,a){return new(n||(n=Promise))((function(l,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))};function i(e){const t=/^\d+$/.test(e.arg1)?Number(e.arg1):0,[n,i]=a.useState(),[m,u]=a.useState(""),[d,E]=a.useState(0);a.useEffect(()=>{let e=!0;return t>0&&function(e){return c(this,void 0,void 0,(function*(){const t=yield o.k.query().findById(e).whereIn("type",[o.k.Sale,o.k.Invoice]).withGraphJoined("actor").withGraphFetched("elements");if(!t)return Promise.reject("Not found");t.type==o.k.Invoice&&(yield t.$fetchGraph("settledBy"));const n={},a={},l={type:t.type,id:t.id,customerTitle:t.actor.title,customerAddress:t.actor.address,customerTaxIdLabel:t.actor.taxIdLabel,customerTaxId:t.actor.taxId,ownTitle:o.i.variables.get("title"),ownAddress:o.i.variables.get("address"),ownTaxIds:[],date:t.date,due:t.due,currency:o.i.variables.get("currency"),elements:[],subTotal:0,taxes:[],total:0,payments:[],paidAmount:0,dueAmount:0};if(t.elements&&t.elements.length>0){l.currency=t.elements[0].currency;const e=[];for(let n of t.elements)if(n.drcr==o.k.Credit){if(n.currency!=l.currency)return Promise.reject(`Must be single currency: ${n.currency}, ${l.currency}`);0==n.parentId?l.elements.push({id:n.id,amount:n.amount,currency:n.currency,description:n.description,taxes:[]}):e.push(n)}for(let t of e){let e=!1;for(let n of l.elements)if(t.parentId==n.id){e=n;break}if(e){const r=new o.j(t.taxCode),s={id:t.id,label:r.typeAndRateLabel,rate:r.rate,amount:t.amount,currency:t.currency};let c=r.rate&&"0"!=r.rate||0!=s.amount,i=c;if(r.isEU&&("reverse"==r.variant&&(l.euReverseChargeSale=!0,i=!0),"eu-goods"==r.tag&&(l.euCommunityGoods=!0)),c){const t=r.baseCode;n[t]||(n[t]=[]),n[t].push(s),e.taxes.push(s)}i&&!a[r.authority]&&(a[r.authority]={label:r.taxAuthority.taxIdLabel,taxId:o.i.variables.get(r.taxAuthority.taxIdVariableName)})}else l.elements.push({id:t.id,amount:t.amount,currency:t.currency,description:t.description,taxes:[]})}}if(l.subTotal=l.elements.length>0?Object(o.n)(l.elements)[0].amount:0,Object.keys(a).forEach(e=>{a[e].taxId&&l.ownTaxIds.push(a[e])}),l.ownTaxIds.sort(Object(s.c)("label")),Object.keys(n).forEach(e=>{l.taxes.push({label:new o.j(e).typeAndRateLabel,items:n[e],total:Object(o.n)(n[e])[0].amount})}),l.taxes.sort(Object(s.c)("label")),l.total=Object(o.n)([{amount:l.subTotal,currency:l.currency},...l.taxes.map(e=>({amount:e.total,currency:l.currency}))])[0].amount,t.settledBy&&t.settledBy.length>0)for(let e of t.settledBy){if(e.currency!=l.currency)return Promise.reject(`Must be single currency: ${e.currency}, ${l.currency}`);l.payments.push({id:e.id,amount:e.amount,currency:e.currency})}return l.paidAmount=t.type==o.k.Sale?l.total:l.payments.length>0?Object(o.n)(l.payments)[0].amount:0,l.dueAmount=Object(o.n)([{amount:l.total,currency:l.currency}],[{amount:l.paidAmount,currency:l.currency}])[0].amount,l}))}(t).then(t=>{e&&(i(t),u(""),E(Date.now()))}).catch(e=>{u(e.toString())}),()=>{e=!1}},[e.arg1]);const h=a.useMemo(()=>n?function(e){const t={paddingTop:3,paddingBottom:3,borderStyle:"solid",borderColor:"#e0e0e0"},n=[];e.euReverseChargeSale&&n.push("EU VAT reverse charged");e.euCommunityGoods&&n.push("Intra-Community supply of goods");return a.createElement(r.b,null,a.createElement(r.d,{size:"A4",style:[r.f.page,{fontSize:10}]},a.createElement(r.p,{style:{fontSize:24,marginBottom:12}},a.createElement(r.a,null,"TAX INVOICE")),a.createElement(r.p,{style:{flexDirection:"row"}},a.createElement(r.p,{style:{width:"50%"}},a.createElement(r.o,{style:{marginBottom:3}},a.createElement(r.m,{width:30},"To:"),a.createElement(r.i,{width:70},e.customerTitle)),!!e.customerAddress&&a.createElement(r.o,{style:{marginBottom:3}},a.createElement(r.m,{width:30}),a.createElement(r.h,{width:70},e.customerAddress)),!!e.customerTaxId&&a.createElement(r.o,{style:{marginBottom:3}},a.createElement(r.m,{width:30},e.customerTaxIdLabel,":"),a.createElement(r.h,{width:70},e.customerTaxId)),a.createElement(r.o,{style:{marginBottom:3}},a.createElement(r.h,{width:100}," ")),a.createElement(r.o,{style:{marginBottom:3}},a.createElement(r.m,{width:30},"Invoice No.:"),a.createElement(r.h,{width:70},e.id)),a.createElement(r.o,{style:{marginBottom:3}},a.createElement(r.m,{width:30},"Issue Date:"),a.createElement(r.h,{width:70},Object(o.v)(e.date))),!!e.due&&a.createElement(r.o,{style:{marginBottom:3}},a.createElement(r.m,{width:30},"Due Date:"),a.createElement(r.h,{width:70},Object(o.v)(e.due)))),a.createElement(r.p,{style:{width:"35%",marginLeft:"15%"}},a.createElement(r.o,{style:{marginBottom:3}},a.createElement(r.m,{width:30},"From:"),a.createElement(r.i,{width:70},e.ownTitle)),!!e.ownAddress&&a.createElement(r.o,{style:{marginBottom:3}},a.createElement(r.m,{width:30}),a.createElement(r.h,{width:70},e.ownAddress)),e.ownTaxIds.map((e,t)=>a.createElement(r.o,{key:t,style:{marginBottom:3}},a.createElement(r.m,{width:30},e.label,":"),a.createElement(r.i,{width:70},e.taxId))))),a.createElement(r.o,{style:[t,{marginTop:24,borderBottomWidth:1}]},a.createElement(r.m,{width:65},"Description"),a.createElement(r.n,{width:15},"Tax"),a.createElement(r.n,{width:20},"Amount (",e.currency,")")),e.elements.map(n=>a.createElement(a.Fragment,{key:n.id},a.createElement(r.o,{key:n.id,style:[t,{borderBottomWidth:1}]},a.createElement(r.i,{width:65},n.description),a.createElement(r.j,{width:15}," "),a.createElement(r.j,{width:20},Object(o.F)(n.amount,e.currency))),n.taxes.map(n=>a.createElement(r.o,{key:n.id,style:[t,{borderBottomWidth:1}]},a.createElement(r.i,{width:60,indent:5},n.label),a.createElement(r.j,{width:15},Object(o.F)(n.amount,e.currency)),a.createElement(r.j,{width:20}," "))))),a.createElement(r.o,{style:{marginTop:24,marginBottom:3}},a.createElement(r.n,{width:80},"Subtotal"),a.createElement(r.j,{width:20},Object(o.F)(e.subTotal,e.currency))),e.taxes.map(t=>a.createElement(a.Fragment,{key:t.label},a.createElement(r.o,{style:{marginBottom:3}},a.createElement(r.j,{width:80},t.label),a.createElement(r.j,{width:20},Object(o.F)(t.total,e.currency))))),a.createElement(r.o,{style:{marginTop:12,marginBottom:15}},a.createElement(r.n,{width:80},"Total"),a.createElement(r.j,{width:20},Object(o.F)(e.total,e.currency))),e.type==o.k.Invoice&&e.paidAmount>0&&a.createElement(r.o,{style:{marginBottom:3}},a.createElement(r.j,{width:80},"Previous payments"),a.createElement(r.j,{width:20},Object(o.F)(e.paidAmount,e.currency))),e.type==o.k.Invoice&&a.createElement(r.o,{style:{marginBottom:3}},a.createElement(r.n,{width:80},"Amount Due"),a.createElement(r.j,{width:20},Object(o.F)(e.dueAmount,e.currency))),0==e.dueAmount&&a.createElement(r.o,{style:{marginBottom:3}},a.createElement(r.n,{width:100},"PAID")),n.length>0&&a.createElement(r.p,{style:{marginTop:24,marginBottom:3}},a.createElement(r.a,null,"NOTES")),n.map((e,t)=>a.createElement(r.p,{key:t,style:{marginBottom:3}},a.createElement(r.g,null,e))),!!o.d&&a.createElement(r.p,{style:{position:"absolute",bottom:56,left:56,right:56,borderStyle:"solid",borderColor:"#333",borderTopWidth:1,paddingTop:1}},a.createElement(r.g,{style:{fontSize:8}},o.d))))}(n):null,[n&&d?d:0]);return n||m?a.createElement("div",null,a.createElement("div",{className:"title-pane"},a.createElement("span",{className:"breadcrumb"},a.createElement(l.b,{to:"/sales"},"Sales")," » ",a.createElement(l.b,{to:"/sales/"+t},n?o.k.TypeInfo[n.type].label:"Sale"," ",t)," » "),a.createElement("h1",{className:"title inline"},"PDF")),m&&a.createElement("div",{className:"error"},m),n&&h&&a.createElement(r.c,{_key:d,filename:`invoice-${n.id}.pdf`},h)):null}},1294:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var a=n(0),l=n(975),r=n(1),o=n(980),s=n(12),c=n(987),i=n(14),m=function(e,t,n,a){return new(n||(n=Promise))((function(l,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))};function u(){const[e,t]=a.useState(!0),[n,u]=a.useState(""),[h,p]=a.useState(""),[b,g]=a.useState(""),[y,f]=a.useState(""),[S,w]=a.useState(""),[T,x]=a.useState(""),[B,D]=a.useState({}),[v,j]=a.useState(),[G,k]=a.useState(""),[O,A]=a.useState(0),I=r.i.variables.get("au:accrual");a.useEffect(()=>{const e={g7:y,g15:S,g18:T};if(function(e){const t=Object(s.f)(Object.keys(e),"AUD",e);return D(t),0==Object.keys(t).length}(e)&&h&&b){const t=e;(function(e,t,n,a,l,o){return m(this,void 0,void 0,(function*(){const s=yield Object(r.D)(e,t,n,["AU:"]),c={startDate:e,endDate:t,accrual:n,sales:{items:[],taxTotals:[],totals:[]},exportSales:{items:[],taxTotals:[],totals:[]},otherFreeSales:{items:[],taxTotals:[],totals:[]},inputTaxedSales:{items:[],taxTotals:[],totals:[]},capitalPurchases:{items:[],taxTotals:[],totals:[]},purchases:{items:[],taxTotals:[],totals:[]},inputTaxedPurchases:{items:[],taxTotals:[],totals:[]},freePurchases:{items:[],taxTotals:[],totals:[]},g:{},exchangeRates:Object(r.u)()};return s.forEach(e=>{Object(r.r)(e,"AUD"),e.drcr==r.k.Credit?(c.sales.items.push(e),"export"==e.taxInfo.variant?c.exportSales.items.push(e):"input"==e.taxInfo.variant?c.inputTaxedSales.items.push(e):"0"==e.taxInfo.rate&&c.otherFreeSales.items.push(e)):("capital"==e.taxInfo.variant?c.capitalPurchases.items.push(e):c.purchases.items.push(e),"input"==e.taxInfo.variant?c.inputTaxedPurchases.items.push(e):"0"==e.taxInfo.rate&&c.freePurchases.items.push(e))}),["sales","exportSales","inputTaxedSales","otherFreeSales","capitalPurchases","purchases","inputTaxedPurchases","freePurchases"].forEach(e=>{const t=c[e];t.items.length>0?(t.taxTotals=r.k.getSums(t.items),t.totals=r.k.getSums(t.items.map(e=>Object.assign(Object.assign({},e),{amount:e.grossAmount})))):(t.taxTotals=[{amount:0,currency:"AUD"}],t.totals=[{amount:0,currency:"AUD"}])}),c.g[1]=c.sales.totals[0].amount,c.g[2]=c.exportSales.totals[0].amount,c.g[3]=c.otherFreeSales.totals[0].amount,c.g[4]=c.inputTaxedSales.totals[0].amount,c.g[5]=c.g[2]+c.g[3]+c.g[4],c.g[6]=c.g[1]-c.g[5],c.g[7]=a,c.g[8]=c.g[6]+c.g[7],c.g[9]=c.g[8]/11,c.g[10]=c.capitalPurchases.totals[0].amount,c.g[11]=c.purchases.totals[0].amount,c.g[12]=c.g[10]+c.g[11],c.g[13]=c.inputTaxedPurchases.totals[0].amount,c.g[14]=c.freePurchases.totals[0].amount,c.g[15]=l,c.g[16]=c.g[13]+c.g[14]+c.g[15],c.g[17]=c.g[12]-c.g[16],c.g[18]=o,c.g[19]=c.g[17]+c.g[18],c.g[20]=c.g[19]/11,c}))})(h,b,I,t.g7,t.g15,t.g18).then(e=>{j(e),k(""),A(Date.now())}).catch(e=>{k(e.toString())})}},[h,b,I,...Object(s.b)([y,S,T])]);const C=a.useMemo(()=>v?function(e,t){return a.createElement(l.b,null,a.createElement(l.d,{size:"A4",style:[l.f.page,{fontSize:t?9:8}]},a.createElement(l.p,{fixed:!0},a.createElement(o.d,{startDate:e.startDate,endDate:e.endDate,title:"GST calculation for BAS"+(t?"":": Detail")},a.createElement(l.g,{style:{fontSize:10}},"(",e.accrual?"accruals":"cash"," basis)")),!t&&a.createElement(l.o,{key:"header",style:{marginBottom:6}},a.createElement(l.m,{width:14,innerStyle:{borderBottomWidth:1}},"Item"),a.createElement(l.m,{width:10,innerStyle:{borderBottomWidth:1}},"Date"),a.createElement(l.m,{width:14,innerStyle:{borderBottomWidth:1}},"Name"),a.createElement(l.m,{width:22,innerStyle:{borderBottomWidth:1}},"Description"),a.createElement(l.l,{width:8,innerStyle:{borderBottomWidth:1}},"Tax Code"),a.createElement(l.n,{width:7,innerStyle:{borderBottomWidth:1}},"Rate"),a.createElement(l.n,{width:10,innerStyle:{borderBottomWidth:1}},"Tax"),a.createElement(l.n,{width:15,innerStyle:{borderBottomWidth:1}},"Amount + Tax"))),t?a.createElement(a.Fragment,null,a.createElement(E,{label:"G1    Total sales (including any GST)",amount:e.g[1],comment:"G1 on the BAS"}),a.createElement(E,{label:"G2    Export sales",amount:e.g[2],comment:"G2 on the BAS"}),a.createElement(E,{label:"G3    Other GST-free sales",amount:e.g[3],comment:"G3 on the BAS"}),a.createElement(E,{label:"G4    Input taxed sales",amount:e.g[3]}),a.createElement(E,{label:"G5    G2+G3+G4",amount:e.g[5]}),a.createElement(E,{label:"G6    Total sales subject to GST (G1 minus G5)",amount:e.g[6]}),a.createElement(E,{label:"G7    Adjustments (if applicable)",amount:e.g[7]}),a.createElement(E,{label:"G8    Total sales subject to GST after adjustments (G6+G7)",amount:e.g[8]}),a.createElement(E,{label:"G9    GST on sales (G8 divided by eleven)",amount:e.g[9],comment:"1A in the Summary section of the BAS",marginBottom:24}),a.createElement(E,{label:"G10   Capital purchases (including any GST)",amount:e.g[10],comment:"G10 on the BAS"}),a.createElement(E,{label:"G11   Non-capital purchases (including any GST)",amount:e.g[11],comment:"G11 on the BAS"}),a.createElement(E,{label:"G12   G10+G11",amount:e.g[12]}),a.createElement(E,{label:"G13   Purchases for making input taxed sales",amount:e.g[13]}),a.createElement(E,{label:"G14   Purchases without GST in the price",amount:e.g[14]}),a.createElement(E,{label:"G15   Estimated purchases for private use or not income tax deductible",amount:e.g[15]}),a.createElement(E,{label:"G16   G13+G14+G15",amount:e.g[16]}),a.createElement(E,{label:"G17   Total purchases subject to GST (G12 minus G16)",amount:e.g[17]}),a.createElement(E,{label:"G18   Adjustments (if applicable)",amount:e.g[18]}),a.createElement(E,{label:"G19   Total purchases subject to GST after adjustments (G7+G18)",amount:e.g[19]}),a.createElement(E,{label:"G20   GST on purchases (G19 divided by eleven)",amount:e.g[20],comment:"1B in the Summary section of the BAS"})):a.createElement(a.Fragment,null,e.sales.items.length>0?a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"G1    Total sales (including any GST)")),a.createElement(c.GroupItems,{group:e.sales,gross:!0}),a.createElement(c.GroupTotal,{group:e.sales,marginBottom:0})):a.createElement(d,{label:"G1    Total sales (including any GST)",amount:e.g[1],marginBottom:0}),a.createElement(l.o,{style:{marginBottom:12}},a.createElement(l.j,{width:100},"(G1 on the BAS)")),e.exportSales.items.length>0?a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"G2    Export sales")),a.createElement(c.GroupItems,{group:e.exportSales,gross:!0}),a.createElement(c.GroupTotal,{group:e.exportSales,marginBottom:0})):a.createElement(d,{label:"G2    Export sales",amount:e.g[2],marginBottom:0}),a.createElement(l.o,{style:{marginBottom:12}},a.createElement(l.j,{width:100},"(G2 on the BAS)")),e.otherFreeSales.items.length>0?a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"G3    Other GST-free sales")),a.createElement(c.GroupItems,{group:e.otherFreeSales,gross:!0}),a.createElement(c.GroupTotal,{group:e.otherFreeSales,marginBottom:0})):a.createElement(d,{label:"G3    Other GST-free sales",amount:e.g[3],marginBottom:0}),a.createElement(l.o,{style:{marginBottom:12}},a.createElement(l.j,{width:100},"(G3 on the BAS)")),e.inputTaxedSales.items.length>0?a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"G4    Input taxed sales")),a.createElement(c.GroupItems,{group:e.inputTaxedSales,gross:!0}),a.createElement(c.GroupTotal,{group:e.inputTaxedSales})):a.createElement(d,{label:"G4    Input taxed sales",amount:e.g[3]}),a.createElement(d,{label:"G5    G2+G3+G4",amount:e.g[5]}),a.createElement(d,{label:"G6    Total sales subject to GST (G1 minus G5)",amount:e.g[6]}),a.createElement(d,{label:"G7    Adjustments (if applicable)",amount:e.g[7]}),a.createElement(d,{label:"G8    Total sales subject to GST after adjustments (G6+G7)",amount:e.g[8]}),a.createElement(d,{label:"G9    GST on sales (G8 divided by eleven)",amount:e.g[9],marginBottom:0}),a.createElement(l.o,{style:{marginBottom:12}},a.createElement(l.j,{width:100},"(1A in the Summary section of the BAS)")),e.capitalPurchases.items.length>0?a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"G10   Capital purchases (including any GST)")),a.createElement(c.GroupItems,{group:e.capitalPurchases,gross:!0}),a.createElement(c.GroupTotal,{group:e.capitalPurchases,marginBottom:0})):a.createElement(d,{label:"G10   Capital purchases (including any GST)",amount:e.g[10],marginBottom:0}),a.createElement(l.o,{style:{marginBottom:12}},a.createElement(l.j,{width:100},"(G10 on the BAS)")),e.purchases.items.length>0?a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"G11   Non-capital purchases (including any GST)")),a.createElement(c.GroupItems,{group:e.purchases,gross:!0}),a.createElement(c.GroupTotal,{group:e.purchases,marginBottom:0})):a.createElement(d,{label:"G11   Non-capital purchases (including any GST)",amount:e.g[11],marginBottom:0}),a.createElement(l.o,{style:{marginBottom:12}},a.createElement(l.j,{width:100},"(G11 on the BAS)")),a.createElement(d,{label:"G12   G10+G11",amount:e.g[12]}),e.inputTaxedPurchases.items.length>0?a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"G13   Purchases for making input taxed sales")),a.createElement(c.GroupItems,{group:e.inputTaxedPurchases,gross:!0}),a.createElement(c.GroupTotal,{group:e.inputTaxedPurchases})):a.createElement(d,{label:"G13   Purchases for making input taxed sales",amount:e.g[13]}),e.freePurchases.items.length>0?a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"G14   Purchases without GST in the price")),a.createElement(c.GroupItems,{group:e.freePurchases,gross:!0}),a.createElement(c.GroupTotal,{group:e.freePurchases})):a.createElement(d,{label:"G14   Purchases without GST in the price",amount:e.g[14]}),a.createElement(d,{label:"G15   Estimated purchases for private use or not income tax deductible",amount:e.g[15]}),a.createElement(d,{label:"G16   G13+G14+G15",amount:e.g[16]}),a.createElement(d,{label:"G17   Total purchases subject to GST (G12 minus G16)",amount:e.g[17]}),a.createElement(d,{label:"G18   Adjustments (if applicable)",amount:e.g[18]}),a.createElement(d,{label:"G19   Total purchases subject to GST after adjustments (G7+G18)",amount:e.g[19]}),a.createElement(d,{label:"G20   GST on purchases (G19 divided by eleven)",amount:e.g[20],marginBottom:0}),a.createElement(l.o,{style:{marginBottom:12}},a.createElement(l.j,{width:100},"(1B in the Summary section of the BAS)"))),a.createElement(o.c,{rates:e.exchangeRates})))}(v,e):null,[v&&O?O:0,e]);return a.createElement("div",null,a.createElement("h1",{className:"title"},"GST calculation for BAS"),a.createElement("table",{className:"horizontal-table-form"},a.createElement("tbody",null,a.createElement("tr",{className:"row row-summary"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"summary"},"Summary:")),a.createElement("td",null,a.createElement("input",{type:"checkbox",name:"summary",checked:e,onChange:e=>{t(e.target.checked)}}))),a.createElement("tr",{className:"row row-date-preset"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"preset"},"Date:")),a.createElement("td",null,a.createElement("select",{name:"preset",value:n,onChange:function(e){const t=e.target.value;if(u(t),"custom"!=t){const e=Object(r.t)(t);p(e[0]),g(e[1])}}},!n&&a.createElement("option",{key:"",value:""}),Object(i.f)()),"custom"==n&&a.createElement(o.b,{onChange:function(e,t){p(e),g(t)},startDate:h,endDate:b}))),a.createElement("tr",{className:"row row-g7"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"g7"},"G7 Adjustments (if applicable):")),a.createElement("td",null,a.createElement("input",{name:"g7",onChange:e=>{f(e.target.value)}})," AUD",B.g7&&a.createElement("div",{className:"error"},B.g7))),a.createElement("tr",{className:"row row-g15"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"g15"},"G15 Estimated purchases for private use",a.createElement("br",null),"or not income tax deductible:")),a.createElement("td",null,a.createElement("input",{name:"g15",onChange:e=>{w(e.target.value)}})," AUD",B.g15&&a.createElement("div",{className:"error"},B.g15))),a.createElement("tr",{className:"row row-g18"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"g18"},"G18 Adjustments (if applicable):")),a.createElement("td",null,a.createElement("input",{name:"g18",onChange:e=>{x(e.target.value)}})," AUD",B.g18&&a.createElement("div",{className:"error"},B.g18))))),G&&a.createElement("div",{className:"error"},G),C&&a.createElement(l.c,{_key:O,filename:"gst-calculation-for-bas.pdf"},C))}function d({label:e,amount:t,marginBottom:n=12}){return a.createElement(a.Fragment,null,a.createElement(l.o,{key:e,style:{marginBottom:n}},a.createElement(l.m,{width:85},e),a.createElement(l.n,{width:15},Object(r.F)(t,"AUD")," AUD")))}function E({label:e,amount:t,comment:n,marginBottom:o=12}){return a.createElement(l.o,{key:e,style:{marginBottom:o}},a.createElement(l.m,{width:65},e),a.createElement(l.n,{width:15},Object(r.F)(t,"AUD")," AUD"),a.createElement(l.i,{width:20,innerStyle:{marginLeft:16}},n))}},1295:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var a=n(0),l=n(975),r=n(1),o=n(980),s=n(1057),c=n(12),i=n(987),m=n(14),u=function(e,t,n,a){return new(n||(n=Promise))((function(l,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))};function d(){const[e,t]=a.useState(!0),[n,d]=a.useState(""),[E,h]=a.useState(""),[p,b]=a.useState(""),[g,y]=a.useState(!0),[f,S]=a.useState(""),[w,T]=a.useState(""),[x,B]=a.useState({}),[D,v]=a.useState(),[j,G]=a.useState(""),[k,O]=a.useState(0);a.useEffect(()=>{const e={h:f,i:w};if(function(e){const t=Object(c.f)(Object.keys(e),"CAD",e);return B(t),0==Object.keys(t).length}(e)&&E&&p){const t=e;(function(e,t,n){return u(this,void 0,void 0,(function*(){const a=yield Object(r.D)(e,t,!0,["CA-BC:"]),l={startDate:e,endDate:t,sales:{items:[],taxTotals:[],totals:[]},purchases:{items:[],taxTotals:[],totals:[]},lines:{},exchangeRates:Object(r.u)()};return a.forEach(e=>{Object(r.r)(e,"CAD"),new r.j(e.taxCode).useTax?l.purchases.items.push(e):l.sales.items.push(e)}),["sales","purchases"].forEach(e=>{const t=l[e];t.items.length>0?(t.taxTotals=r.k.getSums(t.items),t.totals=r.k.getSums(t.items.map(e=>Object.assign(Object.assign({},e),{amount:e.parentAmount})))):(t.taxTotals=[{amount:0,currency:"CAD"}],t.totals=[{amount:0,currency:"CAD"}])}),l.lines.a=l.sales.totals[0].amount,l.lines.b=l.sales.taxTotals[0].amount,n.commission?l.lines.b<=2200?l.lines.c=l.lines.b:l.lines.b<=33333?l.lines.c=2200:l.lines.c=Math.min(.066*l.lines.b,19800):l.lines.c=0,l.lines.d=l.lines.b-l.lines.c,l.lines.e=l.purchases.totals[0].amount,l.lines.f=l.purchases.taxTotals[0].amount,l.lines.g=l.lines.d+l.lines.f,l.lines.h=n.h,l.lines.i=n.i,l.lines.j=l.lines.h+l.lines.i,l.lines.k=l.lines.g-l.lines.j,l}))})(E,p,Object.assign(Object.assign({},t),{commission:g})).then(e=>{v(e),G(""),O(Date.now())}).catch(e=>{G(e.toString())})}},[E,p,...Object(c.b)([g,f,w])]);const A=a.useMemo(()=>D?function(e,t){return a.createElement(l.b,null,a.createElement(l.d,{size:"A4",style:[l.f.page,{fontSize:t?9:8}]},a.createElement(l.p,{fixed:!0},a.createElement(o.d,{startDate:e.startDate,endDate:e.endDate,title:"British Columbia PST Return Worksheet"+(t?"":": Detail")}),!t&&a.createElement(l.o,{key:"header",style:{marginBottom:6}},a.createElement(l.m,{width:14,innerStyle:{borderBottomWidth:1}},"Item"),a.createElement(l.m,{width:10,innerStyle:{borderBottomWidth:1}},"Date"),a.createElement(l.m,{width:14,innerStyle:{borderBottomWidth:1}},"Name"),a.createElement(l.m,{width:22,innerStyle:{borderBottomWidth:1}},"Description"),a.createElement(l.l,{width:8,innerStyle:{borderBottomWidth:1}},"Tax Code"),a.createElement(l.n,{width:7,innerStyle:{borderBottomWidth:1}},"Rate"),a.createElement(l.n,{width:10,innerStyle:{borderBottomWidth:1}},"Tax"),a.createElement(l.n,{width:15,innerStyle:{borderBottomWidth:1}},"Amount"))),t?a.createElement(a.Fragment,null,a.createElement(s.LineItemSummary,{label:"[ A ] Total Sales and Leases",amount:e.lines.a}),a.createElement(s.LineItemSummary,{label:"[ B ] PST Collectable on Sales and Leases",amount:e.lines.b}),a.createElement(s.LineItemSummary,{label:"[ C ] Commission",amount:e.lines.c}),a.createElement(s.LineItemSummary,{label:"[ D ] Net PST Due on Sales and Leases",amount:e.lines.d}),a.createElement(s.LineItemSummary,{label:"[ E ] Purchase and Lease Price of Taxable Goods, Software and Services",amount:e.lines.e}),a.createElement(s.LineItemSummary,{label:"[ F ] PST Due on Purchases and Leases",amount:e.lines.f}),a.createElement(s.LineItemSummary,{label:"[ G ] PST Payable Before Adjustments",amount:e.lines.g}),a.createElement(s.LineItemSummary,{label:"[ H ] PST on Bad Debt Write-off",amount:e.lines.h}),a.createElement(s.LineItemSummary,{label:"[ I ] PST on Amounts Refunded or Credited to Customers",amount:e.lines.i}),a.createElement(s.LineItemSummary,{label:"[ J ] Total Adjustments",amount:e.lines.j}),a.createElement(s.LineItemSummary,{label:"[ K ] Total Amount Due",amount:e.lines.k})):a.createElement(a.Fragment,null,e.sales.items.length>0&&a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"Sales")),a.createElement(i.GroupItems,{group:e.sales}),a.createElement(i.GroupTotal,{group:e.sales})),a.createElement(s.LineItem,{label:"[ A ] Total Sales and Leases",amount:e.lines.a}),a.createElement(s.LineItem,{label:"[ B ] PST Collectable on Sales and Leases",amount:e.lines.b}),a.createElement(s.LineItem,{label:"[ C ] Commission",amount:e.lines.c}),a.createElement(s.LineItem,{label:"[ D ] Net PST Due on Sales and Leases",amount:e.lines.d}),e.purchases.items.length>0&&a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"Purchases")),a.createElement(i.GroupItems,{group:e.purchases}),a.createElement(i.GroupTotal,{group:e.purchases})),a.createElement(s.LineItem,{label:"[ E ] Purchase and Lease Price of Taxable Goods, Software and Services",amount:e.lines.e}),a.createElement(s.LineItem,{label:"[ F ] PST Due on Purchases and Leases",amount:e.lines.f}),a.createElement(s.LineItem,{label:"[ G ] PST Payable Before Adjustments",amount:e.lines.g}),a.createElement(s.LineItem,{label:"[ H ] PST on Bad Debt Write-off",amount:e.lines.h}),a.createElement(s.LineItem,{label:"[ I ] PST on Amounts Refunded or Credited to Customers",amount:e.lines.i}),a.createElement(s.LineItem,{label:"[ J ] Total Adjustments",amount:e.lines.j}),a.createElement(s.LineItem,{label:"[ K ] Total Amount Due",amount:e.lines.k})),a.createElement(o.c,{rates:e.exchangeRates})))}(D,e):null,[D&&k?k:0,e]);return a.createElement("div",null,a.createElement("h1",{className:"title"},"BC PST Return Worksheet"),a.createElement("table",{className:"horizontal-table-form"},a.createElement("tbody",null,a.createElement("tr",{className:"row row-summary"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"summary"},"Summary:")),a.createElement("td",null,a.createElement("input",{type:"checkbox",name:"summary",checked:e,onChange:e=>{t(e.target.checked)}}))),a.createElement("tr",{className:"row row-date-preset"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"preset"},"Date:")),a.createElement("td",null,a.createElement("select",{name:"preset",value:n,onChange:function(e){const t=e.target.value;if(d(t),"custom"!=t){const e=Object(r.t)(t);h(e[0]),b(e[1])}}},!n&&a.createElement("option",{key:"",value:""}),Object(m.f)()),"custom"==n&&a.createElement(o.b,{onChange:function(e,t){h(e),b(t)},startDate:E,endDate:p}))),a.createElement("tr",{className:"row row-commission"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"commission"},"Commission:")),a.createElement("td",null,a.createElement("input",{type:"checkbox",name:"commission",checked:g,onChange:e=>{y(e.target.checked)}}))),a.createElement("tr",{className:"row row-inputH"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"inputH"},"[ H ] PST on Bad Debt Write-Off :")),a.createElement("td",null,a.createElement("input",{name:"inputH",onChange:e=>{S(e.target.value)}})," CAD",x.h&&a.createElement("div",{className:"error"},x.h))),a.createElement("tr",{className:"row row-inputI"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"inputI"},"[ I ] PST on Amounts Refunded or Credited to Customers:")),a.createElement("td",null,a.createElement("input",{name:"inputI",onChange:e=>{T(e.target.value)}})," CAD",x.i&&a.createElement("div",{className:"error"},x.i))))),j&&a.createElement("div",{className:"error"},j),A&&a.createElement(l.c,{_key:k,filename:"bc-pst-return-worksheet.pdf"},A))}},1296:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var a=n(0),l=n(975),r=n(1),o=n(980),s=n(1057),c=n(12),i=n(987),m=n(14),u=function(e,t,n,a){return new(n||(n=Promise))((function(l,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))};function d(){const[e,t]=a.useState(!0),[n,d]=a.useState(""),[E,h]=a.useState(""),[p,b]=a.useState(""),[g,y]=a.useState(""),[f,S]=a.useState({}),[w,T]=a.useState(),[x,B]=a.useState(""),[D,v]=a.useState(0);a.useEffect(()=>{const e={outstanding:g};if(function(e){const t=Object(c.f)(Object.keys(e),"CAD",e);return S(t),0==Object.keys(t).length}(e)&&E&&p){(function(e,t,n){return u(this,void 0,void 0,(function*(){const a=yield Object(r.D)(e,t,!0,["CA-MB:"]),l={startDate:e,endDate:t,sales:{items:[],taxTotals:[],totals:[]},purchases:{items:[],taxTotals:[],totals:[]},lines:{},exchangeRates:Object(r.u)()};return a.forEach(e=>{Object(r.r)(e,"CAD"),new r.j(e.taxCode).useTax?l.purchases.items.push(e):l.sales.items.push(e)}),["sales","purchases"].forEach(e=>{const t=l[e];t.items.length>0?(t.taxTotals=r.k.getSums(t.items),t.totals=r.k.getSums(t.items.map(e=>Object.assign(Object.assign({},e),{amount:e.parentAmount})))):(t.taxTotals=[{amount:0,currency:"CAD"}],t.totals=[{amount:0,currency:"CAD"}])}),l.lines[1]=l.sales.taxTotals[0].amount,l.lines[1]<=300?l.lines[2]=l.lines[1]:l.lines[1]<=2e3?l.lines[2]=300:l.lines[1]<=3e5?l.lines[1]<=2e4?l.lines[2]=.15*l.lines[1]:l.lines[2]=.01*(l.lines[1]-2e4)+3e3:l.lines[2]=0,l.lines[3]=l.purchases.taxTotals[0].amount,l.lines.outstanding=n.outstanding,l.lines[4]=l.lines[1]-l.lines[2]+l.lines[3]+l.lines.outstanding,l}))})(E,p,e).then(e=>{T(e),B(""),v(Date.now())}).catch(e=>{B(e.toString())})}},[E,p,...Object(c.b)([g])]);const j=a.useMemo(()=>w?function(e,t){return a.createElement(l.b,null,a.createElement(l.d,{size:"A4",style:[l.f.page,{fontSize:t?9:8}]},a.createElement(l.p,{fixed:!0},a.createElement(o.d,{startDate:e.startDate,endDate:e.endDate,title:"Manitoba Retail Sales Tax Return Worksheet"+(t?"":": Detail")}),!t&&a.createElement(l.o,{key:"header",style:{marginBottom:6}},a.createElement(l.m,{width:14,innerStyle:{borderBottomWidth:1}},"Item"),a.createElement(l.m,{width:10,innerStyle:{borderBottomWidth:1}},"Date"),a.createElement(l.m,{width:14,innerStyle:{borderBottomWidth:1}},"Name"),a.createElement(l.m,{width:22,innerStyle:{borderBottomWidth:1}},"Description"),a.createElement(l.l,{width:8,innerStyle:{borderBottomWidth:1}},"Tax Code"),a.createElement(l.n,{width:7,innerStyle:{borderBottomWidth:1}},"Rate"),a.createElement(l.n,{width:10,innerStyle:{borderBottomWidth:1}},"Tax"),a.createElement(l.n,{width:15,innerStyle:{borderBottomWidth:1}},"Amount"))),t?a.createElement(a.Fragment,null,a.createElement(s.LineItemSummary,{label:"1. Tax Collectable On Sales",amount:e.lines[1]}),a.createElement(s.LineItemSummary,{label:"2. Deduct Commission",amount:e.lines[2]}),a.createElement(s.LineItemSummary,{label:"3. Tax Owing On Purchases",amount:e.lines[3]}),a.createElement(s.LineItemSummary,{label:"Outstanding Balance Including Interest",amount:e.lines.outstanding}),a.createElement(s.LineItemSummary,{label:"4. TOTAL AMOUNT DUE",amount:e.lines[4]})):a.createElement(a.Fragment,null,e.sales.items.length>0&&a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"Sales")),a.createElement(i.GroupItems,{group:e.sales}),a.createElement(i.GroupTotal,{group:e.sales})),a.createElement(s.LineItem,{label:"1. Tax Collectable On Sales",amount:e.lines[1]}),a.createElement(s.LineItem,{label:"2. Deduct Commission",amount:e.lines[2]}),e.purchases.items.length>0&&a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"Purchases")),a.createElement(i.GroupItems,{group:e.purchases}),a.createElement(i.GroupTotal,{group:e.purchases})),a.createElement(s.LineItem,{label:"3. Tax Owing On Purchases",amount:e.lines[3]}),a.createElement(s.LineItem,{label:"Outstanding Balance Including Interest",amount:e.lines.outstanding}),a.createElement(s.LineItem,{label:"4. TOTAL AMOUNT DUE",amount:e.lines[4]})),a.createElement(o.c,{rates:e.exchangeRates})))}(w,e):null,[w&&D?D:0,e]);return a.createElement("div",null,a.createElement("h1",{className:"title"},"MB RST Return Worksheet"),a.createElement("table",{className:"horizontal-table-form"},a.createElement("tbody",null,a.createElement("tr",{className:"row row-summary"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"summary"},"Summary:")),a.createElement("td",null,a.createElement("input",{type:"checkbox",name:"summary",checked:e,onChange:e=>{t(e.target.checked)}}))),a.createElement("tr",{className:"row row-date-preset"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"preset"},"Date:")),a.createElement("td",null,a.createElement("select",{name:"preset",value:n,onChange:function(e){const t=e.target.value;if(d(t),"custom"!=t){const e=Object(r.t)(t);h(e[0]),b(e[1])}}},!n&&a.createElement("option",{key:"",value:""}),Object(m.f)()),"custom"==n&&a.createElement(o.b,{onChange:function(e,t){h(e),b(t)},startDate:E,endDate:p}))),a.createElement("tr",{className:"row row-outstanding"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"outstanding"},"Outstanding Balance Including Interest:")),a.createElement("td",null,a.createElement("input",{name:"outstanding",onChange:e=>{y(e.target.value)}})," CAD",f.outstanding&&a.createElement("div",{className:"error"},f.outstanding))))),x&&a.createElement("div",{className:"error"},x),j&&a.createElement(l.c,{_key:D,filename:"mb-rst-return-worksheet.pdf"},j))}},1297:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var a=n(0);function l(){return a.createElement("div",null,a.createElement("h1",{className:"title"},"QC QST Return Worksheet"),a.createElement("p",null,"Not implemented yet. Please contact the software developer or site administrator."))}},1298:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var a=n(0),l=n(975),r=n(1),o=n(980),s=n(1057),c=n(12),i=n(987),m=n(14),u=function(e,t,n,a){return new(n||(n=Promise))((function(l,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))};function d(){const[e,t]=a.useState(!0),[n,d]=a.useState(""),[E,h]=a.useState(""),[p,b]=a.useState(""),[g,y]=a.useState(""),[f,S]=a.useState({}),[w,T]=a.useState(),[x,B]=a.useState(""),[D,v]=a.useState(0);a.useEffect(()=>{const e={outstanding:g};if(function(e){const t=Object(c.f)(Object.keys(e),"CAD",e);return S(t),0==Object.keys(t).length}(e)&&E&&p){(function(e,t,n){return u(this,void 0,void 0,(function*(){const a=yield Object(r.D)(e,t,!0,["CA-SK:"]),l={startDate:e,endDate:t,sales:{items:[],taxTotals:[],totals:[]},purchases:{items:[],taxTotals:[],totals:[]},lines:{},exchangeRates:Object(r.u)()};return a.forEach(e=>{Object(r.r)(e,"CAD"),new r.j(e.taxCode).useTax?l.purchases.items.push(e):l.sales.items.push(e)}),["sales","purchases"].forEach(e=>{const t=l[e];t.items.length>0?(t.taxTotals=r.k.getSums(t.items),t.totals=r.k.getSums(t.items.map(e=>Object.assign(Object.assign({},e),{amount:e.parentAmount})))):(t.taxTotals=[{amount:0,currency:"CAD"}],t.totals=[{amount:0,currency:"CAD"}])}),l.lines.a=l.sales.totals[0].amount,l.lines.b=l.sales.taxTotals[0].amount,l.lines.c=l.purchases.taxTotals[0].amount,l.lines.d=l.lines.b+l.lines.c,l.lines.e=n.outstanding,l.lines.f=l.lines.d+l.lines.e,l}))})(E,p,e).then(e=>{T(e),B(""),v(Date.now())}).catch(e=>{B(e.toString())})}},[E,p,...Object(c.b)([g])]);const j=a.useMemo(()=>w?function(e,t){return a.createElement(l.b,null,a.createElement(l.d,{size:"A4",style:[l.f.page,{fontSize:t?9:8}]},a.createElement(l.p,{fixed:!0},a.createElement(o.d,{startDate:e.startDate,endDate:e.endDate,title:"Saskatchewan PST Return Worksheet"+(t?"":": Detail")}),!t&&a.createElement(l.o,{key:"header",style:{marginBottom:6}},a.createElement(l.m,{width:14,innerStyle:{borderBottomWidth:1}},"Item"),a.createElement(l.m,{width:10,innerStyle:{borderBottomWidth:1}},"Date"),a.createElement(l.m,{width:14,innerStyle:{borderBottomWidth:1}},"Name"),a.createElement(l.m,{width:22,innerStyle:{borderBottomWidth:1}},"Description"),a.createElement(l.l,{width:8,innerStyle:{borderBottomWidth:1}},"Tax Code"),a.createElement(l.n,{width:7,innerStyle:{borderBottomWidth:1}},"Rate"),a.createElement(l.n,{width:10,innerStyle:{borderBottomWidth:1}},"Tax"),a.createElement(l.n,{width:15,innerStyle:{borderBottomWidth:1}},"Amount"))),t?a.createElement(a.Fragment,null,a.createElement(s.LineItemSummary,{label:"A    Total Sales",amount:e.lines.a}),a.createElement(s.LineItemSummary,{label:"B    Net Tax Collected",amount:e.lines.b}),a.createElement(s.LineItemSummary,{label:"C    Consumption Tax",amount:e.lines.c}),a.createElement(s.LineItemSummary,{label:"D    Net Tax Payable (B + C)",amount:e.lines.d}),a.createElement(s.LineItemSummary,{label:"E    Balance Owing",amount:e.lines.e}),a.createElement(s.LineItemSummary,{label:"F    Net Amount Payable (D + E)",amount:e.lines.f})):a.createElement(a.Fragment,null,e.sales.items.length>0&&a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"Sales")),a.createElement(i.GroupItems,{group:e.sales}),a.createElement(i.GroupTotal,{group:e.sales})),a.createElement(s.LineItem,{label:"A    Total Sales",amount:e.lines.a}),a.createElement(s.LineItem,{label:"B    Net Tax Collected",amount:e.lines.b}),e.purchases.items.length>0&&a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"Purchases")),a.createElement(i.GroupItems,{group:e.purchases}),a.createElement(i.GroupTotal,{group:e.purchases})),a.createElement(s.LineItem,{label:"C    Consumption Tax",amount:e.lines.c}),a.createElement(s.LineItem,{label:"D    Net Tax Payable (B + C)",amount:e.lines.d}),a.createElement(s.LineItem,{label:"E    Balance Owing",amount:e.lines.e}),a.createElement(s.LineItem,{label:"F    Net Amount Payable (D + E)",amount:e.lines.f})),a.createElement(o.c,{rates:e.exchangeRates})))}(w,e):null,[w&&D?D:0,e]);return a.createElement("div",null,a.createElement("h1",{className:"title"},"SK PST Return Worksheet"),a.createElement("table",{className:"horizontal-table-form"},a.createElement("tbody",null,a.createElement("tr",{className:"row row-summary"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"summary"},"Summary:")),a.createElement("td",null,a.createElement("input",{type:"checkbox",name:"summary",checked:e,onChange:e=>{t(e.target.checked)}}))),a.createElement("tr",{className:"row row-date-preset"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"preset"},"Date:")),a.createElement("td",null,a.createElement("select",{name:"preset",value:n,onChange:function(e){const t=e.target.value;if(d(t),"custom"!=t){const e=Object(r.t)(t);h(e[0]),b(e[1])}}},!n&&a.createElement("option",{key:"",value:""}),Object(m.f)()),"custom"==n&&a.createElement(o.b,{onChange:function(e,t){h(e),b(t)},startDate:E,endDate:p}))),a.createElement("tr",{className:"row row-outstanding"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"outstanding"},"Balance Owing:")),a.createElement("td",null,a.createElement("input",{name:"outstanding",onChange:e=>{y(e.target.value)}})," CAD",f.outstanding&&a.createElement("div",{className:"error"},f.outstanding))))),x&&a.createElement("div",{className:"error"},x),j&&a.createElement(l.c,{_key:D,filename:"sk-pst-return-worksheet.pdf"},j))}},1299:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var a=n(0),l=n(975),r=n(1),o=n(980),s=n(987),c=n(14),i=function(e,t,n,a){return new(n||(n=Promise))((function(l,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))};function m(){const[e,t]=a.useState(!0),[n,m]=a.useState(""),[E,h]=a.useState(""),[p,b]=a.useState(""),[g,y]=a.useState(),[f,S]=a.useState(""),[w,T]=a.useState(0),x=r.i.variables.get("ie:cash");a.useEffect(()=>{E&&p&&function(e,t,n){return i(this,void 0,void 0,(function*(){const a=yield Object(r.D)(e,t,!n,["IE:"]),l={startDate:e,endDate:t,cash:n,sales:{items:[],taxTotals:[],totals:[]},intraEuGoodsSales:{items:[],taxTotals:[],totals:[]},intraEuServicesSales:{items:[],taxTotals:[],totals:[]},purchases:{items:[],taxTotals:[],totals:[]},intraEuGoodsPurchases:{items:[],taxTotals:[],totals:[]},intraEuServicesPurchases:{items:[],taxTotals:[],totals:[]},lines:{},exchangeRates:Object(r.u)()};return a.forEach(e=>{Object(r.r)(e,"EUR"),e.drcr==r.k.Credit?(l.sales.items.push(e),"eu-goods"==e.taxInfo.tag?l.intraEuGoodsSales.items.push(e):"eu-service"==e.taxInfo.tag&&l.intraEuServicesSales.items.push(e)):(l.purchases.items.push(e),"eu-goods"==e.taxInfo.tag?l.intraEuGoodsPurchases.items.push(e):"eu-service"==e.taxInfo.tag&&l.intraEuServicesPurchases.items.push(e))}),["sales","intraEuGoodsSales","intraEuServicesSales","purchases","intraEuGoodsPurchases","intraEuServicesPurchases"].forEach(e=>{const t=l[e];t.items.length>0?(t.taxTotals=r.k.getSums(t.items),t.totals=r.k.getSums(t.items.map(e=>Object.assign(Object.assign({},e),{amount:e.parentAmount})))):(t.taxTotals=[{amount:0,currency:"EUR"}],t.totals=[{amount:0,currency:"EUR"}])}),l.lines.t1=l.sales.taxTotals[0].amount,l.lines.t2=l.purchases.taxTotals[0].amount,l.lines.t1>=l.lines.t2?(l.lines.t3=l.lines.t1-l.lines.t2,l.lines.t4=0):(l.lines.t3=0,l.lines.t4=l.lines.t2-l.lines.t1),l.lines.e1=l.intraEuGoodsSales.totals[0].amount,l.lines.e2=l.intraEuGoodsPurchases.totals[0].amount,l.lines.es1=l.intraEuServicesSales.totals[0].amount,l.lines.es2=l.intraEuServicesPurchases.totals[0].amount,l}))}(E,p,x).then(e=>{y(e),S(""),T(Date.now())}).catch(e=>{S(e.toString())})},[E,p,x]);const B=a.useMemo(()=>g?function(e,t){return a.createElement(l.b,null,a.createElement(l.d,{size:"A4",style:[l.f.page,{fontSize:t?9:8}]},a.createElement(l.p,{fixed:!0},a.createElement(o.d,{startDate:e.startDate,endDate:e.endDate,title:"VAT3 Return"+(t?"":": Detail")},a.createElement(l.g,{style:{fontSize:10}},"(",e.cash?"cash receipts basis of accounting":"accrual",")")),!t&&a.createElement(l.o,{key:"header",style:{marginBottom:6}},a.createElement(l.m,{width:14,innerStyle:{borderBottomWidth:1}},"Item"),a.createElement(l.m,{width:10,innerStyle:{borderBottomWidth:1}},"Date"),a.createElement(l.m,{width:14,innerStyle:{borderBottomWidth:1}},"Name"),a.createElement(l.m,{width:22,innerStyle:{borderBottomWidth:1}},"Description"),a.createElement(l.l,{width:8,innerStyle:{borderBottomWidth:1}},"Tax Code"),a.createElement(l.n,{width:7,innerStyle:{borderBottomWidth:1}},"Rate"),a.createElement(l.n,{width:10,innerStyle:{borderBottomWidth:1}},"Tax"),a.createElement(l.n,{width:15,innerStyle:{borderBottomWidth:1}},"Amount"))),t?a.createElement(a.Fragment,null,a.createElement(d,{label:"T1 - VAT on sales",amount:e.lines.t1}),a.createElement(d,{label:"T2 - VAT on purchases",amount:e.lines.t2}),a.createElement(d,{label:"T3 - VAT payable",amount:e.lines.t3}),a.createElement(d,{label:"T4 - VAT repayable",amount:e.lines.t4}),a.createElement(d,{label:"E1 - Intra-EU supplies of goods",amount:e.lines.e1}),a.createElement(d,{label:"E2 - Intra-EU acquisitions of goods",amount:e.lines.e2}),a.createElement(d,{label:"ES1 - Intra-EU supply of service",amount:e.lines.es1}),a.createElement(d,{label:"ES2 - Intra-EU acquisition of services",amount:e.lines.es2})):a.createElement(a.Fragment,null,e.sales.items.length>0&&a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"Sales")),a.createElement(s.GroupItems,{group:e.sales}),a.createElement(s.GroupTotal,{group:e.sales})),a.createElement(u,{label:"T1 - VAT on sales",amount:e.lines.t1}),e.purchases.items.length>0&&a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"Purchases")),a.createElement(s.GroupItems,{group:e.purchases}),a.createElement(s.GroupTotal,{group:e.purchases})),a.createElement(u,{label:"T2 - VAT on purchases",amount:e.lines.t2}),a.createElement(u,{label:"T3 - VAT payable",amount:e.lines.t3}),a.createElement(u,{label:"T4 - VAT repayable",amount:e.lines.t4}),e.intraEuGoodsSales.items.length>0&&a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"Intra-EU supplies of goods")),a.createElement(s.GroupItems,{group:e.intraEuGoodsSales})),a.createElement(u,{label:"E1 - Intra-EU supplies of goods",amount:e.lines.e1}),e.intraEuGoodsPurchases.items.length>0&&a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"Intra-EU acquisitions of goods")),a.createElement(s.GroupItems,{group:e.intraEuGoodsPurchases})),a.createElement(u,{label:"E2 - Intra-EU acquisitions of goods",amount:e.lines.e2}),e.intraEuServicesSales.items.length>0&&a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"Intra-EU supply of service")),a.createElement(s.GroupItems,{group:e.intraEuServicesSales})),a.createElement(u,{label:"ES1 - Intra-EU supply of service",amount:e.lines.es1}),e.intraEuServicesPurchases.items.length>0&&a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"Intra-EU acquisition of services")),a.createElement(s.GroupItems,{group:e.intraEuServicesPurchases})),a.createElement(u,{label:"ES2 - Intra-EU acquisition of services",amount:e.lines.es2})),a.createElement(o.c,{rates:e.exchangeRates})))}(g,e):null,[g&&w?w:0,e]);return a.createElement("div",null,a.createElement("h1",{className:"title"},"VAT3 Return"),a.createElement("table",{className:"horizontal-table-form"},a.createElement("tbody",null,a.createElement("tr",{className:"row row-summary"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"summary"},"Summary:")),a.createElement("td",null,a.createElement("input",{type:"checkbox",name:"summary",checked:e,onChange:e=>{t(e.target.checked)}}))),a.createElement("tr",{className:"row row-date-preset"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"preset"},"Date:")),a.createElement("td",null,a.createElement("select",{name:"preset",value:n,onChange:function(e){const t=e.target.value;if(m(t),"custom"!=t){const e=Object(r.t)(t);h(e[0]),b(e[1])}}},!n&&a.createElement("option",{key:"",value:""}),Object(c.f)()),"custom"==n&&a.createElement(o.b,{onChange:function(e,t){h(e),b(t)},startDate:E,endDate:p}))))),f&&a.createElement("div",{className:"error"},f),B&&a.createElement(l.c,{_key:w,filename:"vat3-return.pdf"},B))}function u({label:e,amount:t,marginBottom:n=12}){return a.createElement(l.o,{key:e,style:{marginBottom:n}},a.createElement(l.m,{width:85},e),a.createElement(l.n,{width:15},Object(r.F)(t,"EUR")," EUR"))}function d({label:e,amount:t,marginBottom:n=12}){return a.createElement(l.o,{key:e,style:{marginBottom:n}},a.createElement(l.m,{width:65},e),a.createElement(l.n,{width:15},Object(r.F)(t,"EUR")," EUR"))}},1300:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var a=n(0),l=n(975),r=n(1),o=n(980),s=n(12),c=n(987),i=n(14),m=function(e,t,n,a){return new(n||(n=Promise))((function(l,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))};function u(){const[e,t]=a.useState(!0),[n,u]=a.useState(""),[h,p]=a.useState(""),[b,g]=a.useState(""),[y,f]=a.useState(""),[S,w]=a.useState(""),[T,x]=a.useState({}),[B,D]=a.useState(),[v,j]=a.useState(""),[G,k]=a.useState(0),O=r.i.variables.get("nz:accrual");a.useEffect(()=>{const e={line9:y,line13:S};if(function(e){const t=Object(s.f)(Object.keys(e),"NZD",e);return x(t),0==Object.keys(t).length}(e)&&h&&b){const t=e;(function(e,t,n,a,l){return m(this,void 0,void 0,(function*(){const o=yield Object(r.D)(e,t,n,["NZ:"]),s={startDate:e,endDate:t,accrual:n,sales:{items:[],taxTotals:[],totals:[]},zeroSales:{items:[],taxTotals:[],totals:[]},purchases:{items:[],taxTotals:[],totals:[]},lines:{},refund:!1,exchangeRates:Object(r.u)()};return o.forEach(e=>{Object(r.r)(e,"NZD"),e.drcr==r.k.Credit?(s.sales.items.push(e),"0"==e.taxInfo.rate&&s.zeroSales.items.push(e)):"0"!=e.taxInfo.rate&&s.purchases.items.push(e)}),["sales","zeroSales","purchases"].forEach(e=>{const t=s[e];t.items.length>0?(t.taxTotals=r.k.getSums(t.items),t.totals=r.k.getSums(t.items.map(e=>Object.assign(Object.assign({},e),{amount:e.grossAmount})))):(t.taxTotals=[{amount:0,currency:"NZD"}],t.totals=[{amount:0,currency:"NZD"}])}),s.lines[5]=s.sales.totals[0].amount,s.lines[6]=s.zeroSales.totals[0].amount,s.lines[7]=s.lines[5]-s.lines[6],s.lines[8]=3*s.lines[7]/23,s.lines[9]=a,s.lines[10]=s.lines[8]+s.lines[9],s.lines[11]=s.purchases.totals[0].amount,s.lines[12]=3*s.lines[11]/23,s.lines[13]=l,s.lines[14]=s.lines[12]+s.lines[13],s.lines[15]=s.lines[10]-s.lines[14],s.lines[15]<0&&(s.lines[15]=-s.lines[15],s.refund=!0),s}))})(h,b,O,t.line9,t.line13).then(e=>{D(e),j(""),k(Date.now())}).catch(e=>{j(e.toString())})}},[h,b,O,...Object(s.b)([y,S])]);const A=a.useMemo(()=>B?function(e,t){return a.createElement(l.b,null,a.createElement(l.d,{size:"A4",style:[l.f.page,{fontSize:t?9:8}]},a.createElement(l.p,{fixed:!0},a.createElement(o.d,{startDate:e.startDate,endDate:e.endDate,title:"GST101A"+(t?"":": Detail")},a.createElement(l.g,{style:{fontSize:10}},"(",e.accrual?"invoice":"payments"," basis)")),!t&&a.createElement(l.o,{key:"header",style:{marginBottom:6}},a.createElement(l.m,{width:14,innerStyle:{borderBottomWidth:1}},"Item"),a.createElement(l.m,{width:10,innerStyle:{borderBottomWidth:1}},"Date"),a.createElement(l.m,{width:14,innerStyle:{borderBottomWidth:1}},"Name"),a.createElement(l.m,{width:22,innerStyle:{borderBottomWidth:1}},"Description"),a.createElement(l.l,{width:8,innerStyle:{borderBottomWidth:1}},"Tax Code"),a.createElement(l.n,{width:7,innerStyle:{borderBottomWidth:1}},"Rate"),a.createElement(l.n,{width:10,innerStyle:{borderBottomWidth:1}},"Tax"),a.createElement(l.n,{width:15,innerStyle:{borderBottomWidth:1}},"Amount + Tax"))),t?a.createElement(a.Fragment,null,a.createElement(E,{label:"[  5 ]    Total sales and income (including GST)",amount:e.lines[5]}),a.createElement(E,{label:"[  6 ]    Zero-rated supplies",amount:e.lines[6]}),a.createElement(E,{label:"[  7 ]    Subtract Box 6 from Box 5",amount:e.lines[7]}),a.createElement(E,{label:"[  8 ]    Multiply Box 7 by three and then divide by twenty-three",amount:e.lines[8]}),a.createElement(E,{label:"[  9 ]    Adjustments from your calculation sheet",amount:e.lines[9]}),a.createElement(E,{label:"[ 10 ]    Total GST collected (Add Box 8 and Box 9)",amount:e.lines[10]}),a.createElement(E,{label:"[ 11 ]    Total purchases and expenses (including GST)",amount:e.lines[11]}),a.createElement(E,{label:"[ 12 ]    Multiply Box 11 by three and then divide by twenty-three",amount:e.lines[12]}),a.createElement(E,{label:"[ 13 ]    Credit adjustments from your calculation sheet",amount:e.lines[13]}),a.createElement(E,{label:"[ 14 ]    Total GST credit (Add Box 12 and Box 13)",amount:e.lines[14]}),a.createElement(E,{label:"[ 15 ]    Difference between Box 10 and Box 14",amount:e.lines[15],marginBottom:3}),a.createElement(l.o,null,a.createElement(l.n,{width:80},"(",e.refund?"Refund":"GST to pay",")"))):a.createElement(a.Fragment,null,e.sales.items.length>0?a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"[  5 ]    Total sales and income (including GST)")),a.createElement(c.GroupItems,{group:e.sales,gross:!0}),a.createElement(c.GroupTotal,{group:e.sales})):a.createElement(d,{label:"[  5 ]    Total sales and income (including GST)",amount:e.lines[5]}),e.zeroSales.items.length>0?a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"[  6 ]    Zero-rated supplies")),a.createElement(c.GroupItems,{group:e.zeroSales,gross:!0}),a.createElement(c.GroupTotal,{group:e.zeroSales})):a.createElement(d,{label:"[  6 ]    Zero-rated supplies",amount:e.lines[6]}),a.createElement(d,{label:"[  7 ]    Subtract Box 6 from Box 5",amount:e.lines[7]}),a.createElement(d,{label:"[  8 ]    Multiply Box 7 by three and then divide by twenty-three",amount:e.lines[8]}),a.createElement(d,{label:"[  9 ]    Adjustments from your calculation sheet",amount:e.lines[9]}),a.createElement(d,{label:"[ 10 ]    Total GST collected (Add Box 8 and Box 9)",amount:e.lines[10]}),e.purchases.items.length>0?a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:100},"[ 11 ]    Total purchases and expenses (including GST)")),a.createElement(c.GroupItems,{group:e.purchases,gross:!0}),a.createElement(c.GroupTotal,{group:e.purchases})):a.createElement(d,{label:"[ 11 ]    Total purchases and expenses (including GST)",amount:e.lines[11]}),a.createElement(d,{label:"[ 12 ]    Multiply Box 11 by three and then divide by twenty-three",amount:e.lines[12]}),a.createElement(d,{label:"[ 13 ]    Credit adjustments from your calculation sheet",amount:e.lines[13]}),a.createElement(d,{label:"[ 14 ]    Total GST credit (Add Box 12 and Box 13)",amount:e.lines[14]}),a.createElement(l.p,{wrap:!1},a.createElement(d,{label:"[ 15 ]    Difference between Box 10 and Box 14",amount:e.lines[15],marginBottom:3}),a.createElement(l.o,null,a.createElement(l.n,{width:100},"(",e.refund?"Refund":"GST to pay",")")))),a.createElement(o.c,{rates:e.exchangeRates})))}(B,e):null,[B&&G?G:0,e]);return a.createElement("div",null,a.createElement("h1",{className:"title"},"GST101A helper"),a.createElement("table",{className:"horizontal-table-form"},a.createElement("tbody",null,a.createElement("tr",{className:"row row-summary"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"summary"},"Summary:")),a.createElement("td",null,a.createElement("input",{type:"checkbox",name:"summary",checked:e,onChange:e=>{t(e.target.checked)}}))),a.createElement("tr",{className:"row row-date-preset"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"preset"},"Date:")),a.createElement("td",null,a.createElement("select",{name:"preset",value:n,onChange:function(e){const t=e.target.value;if(u(t),"custom"!=t){const e=Object(r.t)(t);p(e[0]),g(e[1])}}},!n&&a.createElement("option",{key:"",value:""}),Object(i.f)()),"custom"==n&&a.createElement(o.b,{onChange:function(e,t){p(e),g(t)},startDate:h,endDate:b}))),a.createElement("tr",{className:"row row-line9"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"line9"},"[   9 ] Adjustments from your calculation sheet:")),a.createElement("td",null,a.createElement("input",{name:"line9",onChange:e=>{f(e.target.value)}})," NZD",T.line9&&a.createElement("div",{className:"error"},T.line9))),a.createElement("tr",{className:"row row-line13"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"line13"},"[ 13 ] Credit adjustments from your calculation sheet:")),a.createElement("td",null,a.createElement("input",{name:"line13",onChange:e=>{w(e.target.value)}})," NZD",T.line13&&a.createElement("div",{className:"error"},T.line13))))),v&&a.createElement("div",{className:"error"},v),A&&a.createElement(l.c,{_key:G,filename:"gst-101A-helper.pdf"},A))}function d({label:e,amount:t,marginBottom:n=12}){return a.createElement(l.o,{key:e,style:{marginBottom:n}},a.createElement(l.m,{width:85},e),a.createElement(l.n,{width:15},Object(r.F)(t,"NZD")," NZD"))}function E({label:e,amount:t,marginBottom:n=12}){return a.createElement(l.o,{key:e,style:{marginBottom:n}},a.createElement(l.m,{width:65},e),a.createElement(l.n,{width:15},Object(r.F)(t,"NZD")," NZD"))}},975:function(e,t,n){"use strict";n.d(t,"b",(function(){return l.b})),n.d(t,"d",(function(){return l.c})),n.d(t,"e",(function(){return l.d})),n.d(t,"p",(function(){return l.f})),n.d(t,"k",(function(){return l.e})),n.d(t,"f",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"o",(function(){return i})),n.d(t,"l",(function(){return m})),n.d(t,"m",(function(){return u})),n.d(t,"n",(function(){return d})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return p})),n.d(t,"c",(function(){return S}));var a=n(0),l=n(988),r=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n};const o=l.d.create({page:{fontFamily:"Helvetica",padding:56,paddingBottom:64}});function s({children:e,style:t}){return a.createElement(l.e,{style:[{fontFamily:"Helvetica"},t]},e)}function c({children:e,style:t}){return a.createElement(l.e,{style:[{fontFamily:"Helvetica-Bold"},t]},e)}function i({children:e,style:t}){return a.createElement(l.f,{style:[{flexDirection:"row",marginHorizontal:"auto"},t],wrap:!1},e)}function m({children:e,style:t,innerStyle:n,width:r,indent:o}){const s={};return r&&(s.width=r+"%"),o&&(s.marginLeft=o+"%"),a.createElement(l.f,{style:[s,t]},a.createElement(c,{style:[{borderStyle:"solid",borderColor:"#333"},n]},e))}function u(e){const{innerStyle:t}=e,n=r(e,["innerStyle"]);return a.createElement(m,Object.assign({innerStyle:[{marginRight:6,textAlign:"left"},t]},n))}function d(e){const{innerStyle:t}=e,n=r(e,["innerStyle"]);return a.createElement(m,Object.assign({innerStyle:[{marginLeft:6,textAlign:"right"},t]},n))}function E({children:e,style:t,innerStyle:n,width:r,indent:o}){const c={};return r&&(c.width=r+"%"),o&&(c.marginLeft=o+"%"),a.createElement(l.f,{style:[c,t]},a.createElement(s,{style:[{borderStyle:"solid",borderColor:"#333"},n]},e))}function h(e){const{innerStyle:t}=e,n=r(e,["innerStyle"]);return a.createElement(E,Object.assign({innerStyle:[{marginRight:6,textAlign:"left"},t]},n))}function p(e){const{innerStyle:t}=e,n=r(e,["innerStyle"]);return a.createElement(E,Object.assign({innerStyle:[{marginLeft:6,textAlign:"right"},t]},n))}n(1282);function b(e){return a.createElement("a",{className:"pdf-download-link",download:e.filename?e.filename:"document.pdf",href:e.url},"Save PDF")}const g=n(1277),y=n(1287),f=n(1114);function S(e){return a.createElement(l.a,{key:e._key,document:e.children},t=>a.createElement(w,Object.assign({key:t.url},t,{filename:e.filename})))}"undefined"!=typeof window&&"Worker"in window&&(f.GlobalWorkerOptions.workerPort=new y);function w(e){const t=a.useRef(null),[n,l]=a.useState(1),[r,o]=a.useState();function s(e){r.currentScale+=e,l(r.currentScale)}return a.useEffect(()=>{let n=!0;if(n&&e.url){const a=new g.EventBus;a.on("pagesinit",e=>{l(e.source.currentScale)});const r=new g.PDFViewer({container:t.current,eventBus:a});o(r),f.getDocument(e.url).promise.then(e=>{n&&r.setDocument(e)})}return()=>{n=!1}},[e.url]),e.url?a.createElement(a.Fragment,null,a.createElement("div",{className:"pdfViewer-toolbar"},a.createElement(b,Object.assign({},e)),a.createElement("button",{className:"zoom-button zoom-in",onClick:e=>s(-.1)},"-"),a.createElement("button",{className:"zoom-button zoom-out",onClick:e=>s(.1)},"+"),a.createElement("span",{className:"zoom-percent"},(100*n).toFixed(1),"%")),a.createElement("div",{ref:t,className:"pdfViewer-container"},a.createElement("div",{className:"pdfViewer"}))):null}},980:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return E})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return p}));var a=n(0),l=n(924),r=n(1290),o=n(1291),s=n(925),c=n(28),i=n.n(c),m=n(1),u=n(975);const d=7;function E(e){const{startDate:t,endDate:n}=e,l=t?Object(m.z)(t):null,r=n?Object(m.z)(n):null;return a.createElement(a.Fragment,null,a.createElement("span",{className:"date-range date-range-start"},a.createElement("label",{htmlFor:"startDate"},"From:"),a.createElement(i.a,{name:"startDate",selected:l,onChange:t=>{const a=t?Object(m.E)(t):"";e.onChange&&e.onChange(a,n)},selectsStart:!0,startDate:l,endDate:r,dateFormat:Object(m.s)()})),a.createElement("span",{className:"date-range date-range-end"},a.createElement("label",{htmlFor:"endDate"},"To:"),a.createElement(i.a,{name:"endDate",selected:r,onChange:n=>{const a=n?Object(m.E)(n):"";e.onChange&&e.onChange(t,a)},selectsEnd:!0,startDate:l,endDate:r,dateFormat:Object(m.s)()})))}function h(e){const t=Object(m.s)(),n="m"==t[0]||"M"==t[0],c=Object(m.z)(e.endDate);let i;if(e.startDate){const t=Object(m.z)(e.startDate);if(Object(l.default)(t,c))i=Object(r.a)(t)&&Object(o.a)(c)?""+t.toLocaleDateString(m.f,{month:"long",year:"numeric"}):n?`${t.toLocaleDateString(m.f,{day:"numeric",month:"long"})} to ${c.toLocaleDateString(m.f,{day:"numeric"})}, ${c.toLocaleDateString(m.f,{year:"numeric"})}`:`${t.toLocaleDateString(m.f,{day:"numeric"})} to ${c.toLocaleDateString(m.f,{day:"numeric",month:"long",year:"numeric"})}`;else{const e={day:"numeric",month:"long",year:"numeric"},n={day:"numeric",month:"long",year:"numeric"};Object(s.default)(t,c)&&delete e.year,Object(r.a)(t)&&delete e.day,Object(o.a)(c)&&delete n.day,i=`${t.toLocaleDateString(m.f,e)} to ${c.toLocaleDateString(m.f,n)}`}}else i=""+c.toLocaleDateString(m.f,{day:"numeric",month:"long",year:"numeric"});const d=new Intl.DateTimeFormat(m.f,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}).format(new Date);return a.createElement(u.p,null,a.createElement(u.p,{style:{position:"absolute",top:0,textAlign:"right"}},a.createElement(u.g,null,d)),a.createElement(u.p,{style:{textAlign:"center",marginBottom:12}},a.createElement(u.a,{style:{fontSize:12}},m.i.variables.get("title")),a.createElement(u.a,{style:{fontSize:18}},e.title),a.createElement(u.g,{style:{fontSize:12}},i),e.children))}function p({rates:e}){const t=[];return Object.keys(e||{}).forEach(n=>{const a=["1 "+n];Object.keys(e[n]||{}).forEach(t=>{e[n][t]&&a.push(`${e[n][t]} ${t}`)}),a.length>1&&t.push(a.join(" = "))}),t.length>0?a.createElement(u.p,{style:{textAlign:"right",position:"absolute",bottom:56,left:56,right:56,borderStyle:"solid",borderColor:"#333",borderTopWidth:1}},t.map((e,t)=>a.createElement(u.g,{key:t,style:{fontSize:8}},e))):null}},987:function(e,t,n){"use strict";n.r(t),n.d(t,"transactionTaxes",(function(){return m})),n.d(t,"default",(function(){return u})),n.d(t,"GroupItems",(function(){return d})),n.d(t,"GroupTotal",(function(){return E}));var a=n(0),l=n(975),r=n(1),o=n(980),s=n(12),c=n(14),i=function(e,t,n,a){return new(n||(n=Promise))((function(l,r){function o(e){try{c(a.next(e))}catch(e){r(e)}}function s(e){try{c(a.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((a=a.apply(e,t||[])).next())}))};function m(e,t,n=!0){return i(this,void 0,void 0,(function*(){const a=yield Object(r.D)(e,t,n),l={startDate:e,endDate:t,accrual:n,authorities:[]},o={};return a.forEach(e=>{o[e.taxInfo.authority]||(o[e.taxInfo.authority]={authority:r.C[e.taxInfo.authority],id:e.taxInfo.authority,region:r.C[e.taxInfo.authority].regionName,outputs:{items:[],taxTotals:[],totals:[]},inputs:{items:[],taxTotals:[],totals:[]}}),e.drcr==r.k.Credit?o[e.taxInfo.authority].outputs.items.push(e):o[e.taxInfo.authority].inputs.items.push(e)}),l.authorities=Object.keys(o).map(e=>o[e]),l.authorities.sort(Object(s.c)("region")),l.authorities.forEach(e=>{e.outputs.taxTotals=r.k.getSums(e.outputs.items),e.inputs.taxTotals=r.k.getSums(e.inputs.items),e.outputs.totals=r.k.getSums(e.outputs.items.map(e=>Object.assign(Object.assign({},e),{amount:e.parentAmount}))),e.inputs.totals=r.k.getSums(e.inputs.items.map(e=>Object.assign(Object.assign({},e),{amount:e.parentAmount})))}),l}))}function u(){const[e,t]=a.useState(""),[n,s]=a.useState(""),[i,u]=a.useState(""),[h,p]=a.useState(!1),[b,g]=a.useState(),[y,f]=a.useState(""),[S,w]=a.useState(0);a.useEffect(()=>{n&&i&&m(n,i,!h).then(e=>{g(e),f(""),w(Date.now())}).catch(e=>{f(e.toString())})},[n,i,h]);const T=a.useMemo(()=>b?a.createElement(l.b,null,a.createElement(l.d,{size:"A4",style:[l.f.page,{fontSize:8}]},a.createElement(l.p,{fixed:!0},a.createElement(o.d,{startDate:b.startDate,endDate:b.endDate,title:"Transaction Tax: Detail"},a.createElement(l.g,{style:{fontSize:10}},"(",b.accrual?"Accrual":"Cash"," accounting basis)")),a.createElement(l.o,{key:"header",style:{marginBottom:6}},a.createElement(l.m,{width:14,innerStyle:{borderBottomWidth:1}},"Item"),a.createElement(l.m,{width:10,innerStyle:{borderBottomWidth:1}},"Date"),a.createElement(l.m,{width:14,innerStyle:{borderBottomWidth:1}},"Name"),a.createElement(l.m,{width:22,innerStyle:{borderBottomWidth:1}},"Description"),a.createElement(l.l,{width:8,innerStyle:{borderBottomWidth:1}},"Tax Code"),a.createElement(l.n,{width:7,innerStyle:{borderBottomWidth:1}},"Rate"),a.createElement(l.n,{width:10,innerStyle:{borderBottomWidth:1}},"Tax"),a.createElement(l.n,{width:15,innerStyle:{borderBottomWidth:1}},"Amount"))),b.authorities.map(e=>a.createElement(a.Fragment,{key:e.authority.id},a.createElement(l.o,null,a.createElement(l.l,{width:100},e.authority.regionName)),e.outputs.items.length>0&&a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:98,indent:2},"Tax Payable")),a.createElement(d,{group:e.outputs}),a.createElement(E,{group:e.outputs})),e.inputs.items.length>0&&a.createElement(a.Fragment,null,a.createElement(l.o,null,a.createElement(l.l,{width:98,indent:2},"Tax Receivable")),a.createElement(d,{group:e.inputs}),a.createElement(E,{group:e.inputs})))))):null,[b&&S?S:0]);return a.createElement("div",null,a.createElement("h1",{className:"title"},"Transaction Tax: Detail"),a.createElement("table",{className:"horizontal-table-form"},a.createElement("tbody",null,a.createElement("tr",{className:"row row-date-preset"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"preset"},"Date:")),a.createElement("td",null,a.createElement("select",{name:"preset",value:e,onChange:function(e){const n=e.target.value;if(t(n),"custom"!=n){const e=Object(r.t)(n);s(e[0]),u(e[1])}}},!e&&a.createElement("option",{key:"",value:""}),Object(c.f)()),"custom"==e&&a.createElement(o.b,{onChange:function(e,t){s(e),u(t)},startDate:n,endDate:i}))),a.createElement("tr",{className:"row row-cash-basis"},a.createElement("th",{scope:"row"},a.createElement("label",{htmlFor:"cashBasis"},"Cash accounting basis:")),a.createElement("td",null,a.createElement("input",{type:"checkbox",name:"cashBasis",checked:h,onChange:function(e){p(e.target.checked)}}))))),y&&a.createElement("div",{className:"error"},y),T&&a.createElement(l.c,{_key:S,filename:"transaction-tax-detail.pdf"},T))}function d({group:e,gross:t,indent:n=4}){return e.items.map((o,s)=>a.createElement(l.o,{key:o.id},a.createElement(l.i,{width:14-n,indent:n},r.k.TypeInfo[o.txnType].shortLabel," ",o.txnId),a.createElement(l.h,{width:10,innerStyle:{marginRight:6,textAlign:"right"}},Object(r.v)(o.txnDate)),a.createElement(l.i,{width:14,innerStyle:{maxLines:1}},o.actorTitle),a.createElement(l.i,{width:22,innerStyle:{maxLines:2}},o.txnDescription?o.parentDescription?`${o.txnDescription}: ${o.parentDescription}`:o.txnDescription:o.parentDescription),a.createElement(l.h,{width:8,innerStyle:{maxLines:2}},o.taxInfo.reportLabel),a.createElement(l.j,{width:7},o.taxInfo.rate,"%"),a.createElement(l.j,{width:10,innerStyle:s==e.items.length-1?{marginBottom:3,paddingBottom:3,borderBottomWidth:1}:{}},Object(r.F)(o.amount,o.currency)),a.createElement(l.j,{width:15,innerStyle:s==e.items.length-1?{marginBottom:3,paddingBottom:3,borderBottomWidth:1}:{}},Object(r.F)(t?o.grossAmount:o.parentAmount,o.currency)," ",o.currency)))}function E({label:e,group:t,indent:n=2,marginBottom:s=12}){return a.createElement(l.p,{wrap:t.totals.length>o.a},t.totals.map((o,c)=>{const i=t.taxTotals[c];return a.createElement(l.o,{key:o.currency,style:c==t.totals.length-1?{marginBottom:s}:{}},a.createElement(l.m,{width:75-n,indent:n},0==c&&e?e:""),a.createElement(l.n,{width:10},Object(r.F)(i.amount,i.currency)),a.createElement(l.n,{width:15},Object(r.F)(o.amount,o.currency)," ",o.currency))}))}}}]);
//# sourceMappingURL=dynamic.js.map